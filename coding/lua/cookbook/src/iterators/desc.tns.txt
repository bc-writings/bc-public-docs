this::
    date = 2025-09-14


====================================
XXX
====================================

YYY


Explication courte

coroutine.wrap(f) transforme la fonction f en itÃ©rateur utilisable dans for.

Ã€ chaque Ã©tape, la coroutine sâ€™exÃ©cute jusquâ€™Ã  un coroutine.yield(...), qui renvoie des valeurs Ã  la boucle for.

Ici, la coroutine contient deux boucles imbriquÃ©es :

j monte de 0 Ã  jmax,

pour chaque j, i monte de 1 Ã  imax.

Chaque appel yield(i,j) envoie une paire de coordonnÃ©es Ã  la boucle for.

Quand la coroutine finit, la boucle for sâ€™arrÃªte toute seule.

ðŸ‘‰ RÃ©sultat : on obtient un parcours de toutes les coordonnÃ©es dâ€™une grille 2D, sans avoir Ã  gÃ©rer manuellement les indices ni Ã©crire la mÃ©canique dâ€™itÃ©rateur (generator, state, init).
