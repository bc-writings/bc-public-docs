\begin{filecontents}[overwrite]{\jobname.sty}
\ProvidesFile{\@currname}

\DeclareKeys
  {
     parameter .choice:
    ,parameter/x .code:n = \xcmd
    ,parameter/unknown .code:n = \ycmd
  }

\newcommand\xcmd{\typeout{XCMD was called}}
\newcommand\ycmd{\typeout{YCMD was called}}

\ProcessKeyOptions
\end{filecontents}

\documentclass{article}

\usepackage[parameter=x,parameter=val]{\jobname}

\stop
