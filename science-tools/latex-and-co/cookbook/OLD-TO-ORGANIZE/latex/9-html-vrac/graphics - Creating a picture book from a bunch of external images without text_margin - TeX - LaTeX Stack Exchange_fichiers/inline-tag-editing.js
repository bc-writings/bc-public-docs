"use strict";StackExchange.inlineTagEditing=function(){function e(e){e.find(".js-tag-editor-container")&&c(!0)}var t,n,i,r,a,o=$("<div></div>"),s=$(".js-tags-label"),l=function(){n.unbind("click").one("click",function(){i.fadeOut("fast",function(){i.appendTo(o),StackExchange.helpers.addSpinner(t),$.ajax({"type":"GET","url":"/posts/"+r+"/edit-tags","data":{"reviewTaskId":a,"numColumns":t.data("columns")},"dataType":"html","success":u,"error":d})}),s.fadeOut("fast")})},c=function(e){StackExchange.helpers.disableSubmitButton(t),StackExchange.helpers.removeMessages();var n=function(){t.empty(),i.appendTo(t),i.show(),t.fadeIn("fast"),s.fadeIn("fast"),l()};e?n():t.fadeOut("fast",n)},u=function(e){StackExchange.helpers.removeSpinner();var n=$(e);"function"==typeof $().autocomplete&&(n=n.not('script[src*="tageditor.js"]'));var o=$('<form method="post" id="edit-tags-form" action="/posts/'+r+'/edit-tags"></form>');t.css("display","none").append(o),o.append(n),t.find(".js-tag-editor-container").after('<div class="form-submit d-flex gs4 mt8"><input type="hidden" name="fkey" value="'+StackExchange.options.user.fkey+'" /><input type="hidden" name="reviewTaskId" value="'+a+'" />'+$("<input>",{"class":"flex--item s-btn s-btn__primary","id":"edit-tags-submit","type":"submit","value":"Save Tag Edits","tabindex":"104"}).prop("outerHTML")+'<a id="edit-tags-cancel" class="flex--item s-btn cancel-edit" href="#" tabindex="105">Cancel</a></div><div class="js-general-error general-error cbt d-none"></div>'),StackExchange.using("postValidation",function(){StackExchange.postValidation.initOnBlurAndSubmit(o,1,"tags",!1,function(e){i.find("a.post-tag").remove(),i.prepend(e.html),c(),$(document).trigger("retag",r)})}),o.find(".cancel-edit").click(function(e){c(),s.fadeIn("fast"),StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.cancel()}),e.preventDefault()}),setTimeout(function(){t.fadeIn("fast",function(){$("#tagnames").focus()})},50)},d=function(e){StackExchange.helpers.removeSpinner(),c(),StackExchange.helpers.showErrorMessage(i,e.responseText&&e.responseText.length<300?e.responseText:"An error occurred when fetching the tag editor")};return{"init":function(e){if(!StackExchange.disableInlineTagEdits){e||(e={});var a=e.editTagsText||"Edit tags";r=$('div.question div.vote > input[type="hidden"]').val()||$("div.question").attr("data-questionid"),t=$("div.question div.post-taglist"),t.find("a.post-tag").wrapAll('<span class="edit-tags-wrapper"></span>'),i=t.find("span.edit-tags-wrapper");var o=$('<a href="javascript:void(0)" id="edit-tags" class="fw-normal p4 m2 ws-nowrap">').attr("title","Edit this question's tags").text(a);n=$("<span>").append(o),i.append(n),l()}},"cancelForFullEditor":e}}();