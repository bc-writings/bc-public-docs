% Source : http://tex.stackexchange.com/questions/30032/highlighting-diagonal-of-a-square-matrix

\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{matrix}

	\newlength\mtxrowsep \setlength\mtxrowsep{1.5ex}
	\newlength\mtxcolsep \setlength\mtxcolsep{2\arraycolsep}

	\tikzset{
		ams/.style = {
			baseline = -.7ex,
			every delimiter/.style = {yshift = -1pt},
			every left delimiter/.style = {xshift = 2pt},
			every right delimiter/.style = {xshift = -2pt},
			every node/.style = {inner sep = 0pt},
		},
		ams matrix/.style = {
			inner sep = 1pt,
			column sep = \mtxcolsep,
			row sep = \mtxrowsep,
			%ampersand replacement = \&,
			matrix of math nodes,
		},
		bmatrix/.style = {
			ams,
			every matrix/.style = {
				ams matrix,
				left delimiter = {[},
				right delimiter = {]},
			}
		},
		Bmatrix/.style = {
			ams,
			every matrix/.style = {
				ams matrix,
				left delimiter = {\lbrace},
				right delimiter = {\rbrace},
			}
		},
		pmatrix/.style = {
			ams,
			every matrix/.style = {
				ams matrix,
				left delimiter = {(},
				right delimiter = {)},
			}
		},
		vmatrix/.style = {
			ams,
			every matrix/.style = {
				ams matrix,
				left delimiter = {|},
				right delimiter = {|},
			}
		},
		Vmatrix/.style = {
			ams,
			every matrix/.style = {
				ams matrix,
				left delimiter = {\|},
				right delimiter = {\|},
			}
		},
		highlight diagonal/.style = {
			nodes = {highlight diagonal nodes}
		},
		highlight diagonal nodes/.code = {
			\ifnum\pgfmatrixcurrentrow = \pgfmatrixcurrentcolumn
				\tikzset{fill = yellow}
			\fi
		}
	}

	\let\matamp = &

	\catcode`\& = 13
	\makeatletter
		\def&{
			\iftikz@is@matrix
				\pgfmatrixnextcell
			\else
				\matamp
			\fi
		}
	\makeatother

	\newenvironment{tikzbmatrix}[1][]{%
		\begin{tikzpicture}[bmatrix]
		\matrix[#1] \bgroup}
		{\\\egroup;\end{tikzpicture}}


\begin{document}

\begin{tikzbmatrix}[highlight diagonal,nodes = {inner sep = 2pt}]
	a = b & b            & c \\
	d     & e^2 = m^2c^4 & f \\
	g     & h            & F = \frac{d}{dt}{(m\vec{v})}
\end{tikzbmatrix}

\end{document}
