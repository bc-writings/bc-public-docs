\documentclass{book} 
\usepackage[T1]{fontenc} 
\usepackage[utf8]{inputenc} 
\usepackage[a4paper]{geometry} 
\usepackage{lmodern} 
\usepackage{xlop} 
\usepackage[frenchb]{babel} 

\newcommand\PGCDdifference[2]{% 
   \opcmp{#1}{#2} 
   \ifopgt 
     \opcopy{#1}{PGCD-a}% 
     \opcopy{#2}{PGCD-b}% 
   \else 
     \opcopy{#1}{PGCD-b}% 
     \opcopy{#2}{PGCD-a}% 
   \fi 
   \begin{tabular}{rrr@{\qquad}} 
     \multicolumn{1}{c}{a} & 
     \multicolumn{1}{c}{b} & 
     \multicolumn{1}{c}{diff√©rence} \\ 
     \PGCDdifferenceREC 
   \end{tabular} 
} 
\newcommand\PGCDdifferenceREC{% 
   \opprint{PGCD-a} & \opprint{PGCD-b} & 
   \opsub*{PGCD-a}{PGCD-b}{PGCD-d}% 
   \opprint{PGCD-d}\\ 
   % 
   \opcmp{PGCD-b}{PGCD-d}% 
   \ifopgt 
     \opcopy{PGCD-b}{PGCD-a}% 
     \opcopy{PGCD-d}{PGCD-b}% 
   \else 
     \opcopy{PGCD-d}{PGCD-a}% 
   \fi 
   \opcmp{PGCD-b}{0}% 
   \ifopgt 
     \expandafter\PGCDdifferenceREC 
   \fi 
} 
\newcommand\PGCDEuclide[2]{% 
   \opcmp{#1}{#2}% 
   \ifopgt 
     \opcopy{#1}{PGCD-a}% 
     \opcopy{#2}{PGCD-b}% 
   \else 
     \opcopy{#2}{PGCD-a}% 
     \opcopy{#1}{PGCD-b}% 
   \fi 
   \begin{tabular}{r@{\qquad}r@{\qquad}r@{\quad}} 
     \multicolumn{1}{c}{dividende} & 
     \multicolumn{1}{c}{diviseur} & 
     \multicolumn{1}{c}{reste} \\ 
     \PGCDEuclideREC 
   \end{tabular} 
} 
\newcommand\PGCDEuclideREC{% 
   \opprint{PGCD-a} & \opprint{PGCD-b} & 
   \opidiv*{PGCD-a}{PGCD-b}{PGCD-q}{PGCD-r} 
   \opprint{PGCD-r}\\ 
   % 
   \opcopy{PGCD-b}{PGCD-a}% 
   \opcopy{PGCD-r}{PGCD-b}% 
   \opcmp{PGCD-r}{0}% 
   \ifopgt 
     \expandafter\PGCDEuclideREC 
   \fi 
} 


\begin{document} 

\PGCDdifference{242}{112} 

\vspace{1cm} 

\PGCDEuclide{242}{112} 

\end{document} 