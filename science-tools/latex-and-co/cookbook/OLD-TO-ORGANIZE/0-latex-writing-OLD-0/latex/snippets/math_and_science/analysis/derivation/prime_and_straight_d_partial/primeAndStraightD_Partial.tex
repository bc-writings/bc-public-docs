% Sources : 
%    * http://forum.mathematex.net/latex-f6/en-tete-de-ds-t12933.html#p124908
%    * http://forum.mathematex.net/latex-f6/derivee-avec-un-d-droit-et-espace-t12932.html#p124930

\documentclass[a4paper,10pt]{article}
	\usepackage{amsmath}
	\usepackage{amssymb}
	\usepackage{xstring}

	\DeclareRobustCommand{\dder}{
		\mathop{}\mathopen{}\mathrm{d}
	}

	\makeatletter
		\let\original@partial\partial
		\renewcommand{\partial}{
			\original@partial\mathopen{}
		}
	\makeatother

	\newcommand{\pp}[2][0]{
		\ifnum#1=0
			\partial #2
		\else
			\IfBeginWith{#2}{f}{
				\partial^{#1} \! #2
			}{
				\partial^{#1}  #2
			}
		\fi
	}

	\newcommand{\dd}[2][0]{
		\ifnum#1=0
			\dder #2
		\else
			\IfBeginWith{#2}{f}{
				\dder^{#1} \! #2
			}{
				\dder^{#1}  #2
			}
		\fi
	}


\begin{document}
	\setlength{\parindent}{0pt}
	\newcommand{\HH}{
		\mathrm{H}
	}


	\section{Total derivate}

	$ \cos'(x) = \frac{\dd{\cos}}{\dd{x}} (x) $


	$ f'(x) = \frac{\dd{f}}{\dd{x}} (x) $


	$ \HH^{(5)}(x) = \frac{\dd[5]{\HH}}{\dd{x}^{5}} (x) $


	$ f'''(x) = \frac{\dd[3]{f}}{\dd{x}^{3}} (x) $


	\section{Partial derivate}

	$ \cos'_{x} (x) = \frac{\pp{\cos}}{\pp{x}} (x) $


	$ f'_{x} (x) = \frac{\pp{f}}{\pp{x}} (x) $


	$ \HH'_{xxx} (x) = \frac{\pp[3]{\HH}}{\pp{x}^{3}} (x) $


	$ f'_{x(5) y(4)} (x,y) = \frac{\pp[9]{f}}{\pp{x}^{5} \pp{y}^{4}} (x,y)$
\end{document}