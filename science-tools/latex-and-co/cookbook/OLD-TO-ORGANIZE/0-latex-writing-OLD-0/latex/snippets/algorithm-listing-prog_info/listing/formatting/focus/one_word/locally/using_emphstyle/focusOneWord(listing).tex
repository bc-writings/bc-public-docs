% Source : http://tex.stackexchange.com/questions/44234/in-listings-lines-that-are-broken-option-breaklines-enabled-cause-frame-to-be

\documentclass{article}
	\usepackage{listings,xcolor}

	\lstset{
		basicstyle=\ttfamily,
		showstringspaces=false,
		breaklines=true,
		%keywordstyle=\color{red},
		%identifierstyle=\color{blue},
		%stringstyle=\color{green},
		frame=single,
		frameround=tttt,
		rulecolor=\color{gray},
	}


\begin{document}

\begin{lstlisting}[
	language=C,
	identifierstyle=\color{blue},
	caption={highlight all identifiers}
]
#include <stdio.h>
int main()
{
  float a, b, c;
  printf("Enter a, b, and c (space separated) in the following equation:\nax^2+bx+c = 0\n");
  scanf("%f %f %f", &a, &b, &c);
  printf("What happens when I type two less-than signs like this? <<\n");
}
\end{lstlisting}


\begin{lstlisting}[
	language=C,
	emph={printf},emphstyle=\color{blue},
	emph={[2]{scanf}},emphstyle={[2]\color{magenta}},
	emph={[3]{float}},emphstyle={[3]\color{green}},
	emph={[4]{int}},emphstyle={[4]\color{orange}},
	caption={highlight specific words}
]
#include <stdio.h>
int main()
{
  float a, b, c;
  printf("Enter a, b, and c (space separated) in the following equation:\nax^2+bx+c = 0\n");
  scanf("%f %f %f", &a, &b, &c);
  printf("What happens when I type two less-than signs like this? <<\n");
}
\end{lstlisting}

\end{document}
