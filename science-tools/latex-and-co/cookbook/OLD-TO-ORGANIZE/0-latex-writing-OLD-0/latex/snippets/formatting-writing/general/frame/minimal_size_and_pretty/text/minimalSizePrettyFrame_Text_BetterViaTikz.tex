% Source : http://tex.stackexchange.com/questions/35319/a-boxed-alternative-with-minimal-spacing/35346#35346

\documentclass[border=1pt]{standalone}
	\usepackage{tikz}
	\usetikzlibrary{calc,shapes}

	\makeatletter
		\newcommand*{\@DrawBoxHeightSep}{0.030em}%
		\newcommand*{\@DrawBoxDepthSep}{0.025em}%
		\newcommand{\@DrawBox}[3][red]{%#1= style, #2=height, #3=depth
			\tikz[overlay,remember picture]{
			\draw[#1]
				($(bl)+(-0.2em,#2+\@DrawBoxHeightSep)$) rectangle
				($(br)+(0.2em,-#3-+\@DrawBoxDepthSep)$);}
		}

		\newcommand{\tikzmark}[1]{\tikz[overlay,remember picture] \node (#1) {};}

		\newdimen\@myBoxHeight%
		\newdimen\@myBoxDepth%
		\newcommand{\MyBox}[2][red]{%
			\settoheight{\@myBoxHeight}{#2}% Record height of box
			\settodepth{\@myBoxDepth}{#2}% Record height of box
			\tikzmark{bl}#2\tikzmark{br}\@DrawBox[#1]{\@myBoxHeight}{\@myBoxDepth}% Draw the box
		}
	\makeatother


\begin{document}

Lorem ipsum dolor sit amet. \MyBox{Lorem ipsum} dolor sit amet. Lorem ipsum dolor sit amet.
Lorem ipsum dolor sit amet. \MyBox{$\frac{\frac{2}{5} - 7}{4 + x^3}$} Lorem ipsum dolor sit amet.
Lorem ipsum dolor sit amet.  Lorem ipsum \MyBox[blue]{$3.29 \times 10^{29}$} dolor sit amet.
Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet.
Lorem ipsum dolor sit amet. Lorem \MyBox[draw=red,fill=yellow!20,,opacity=0.3]{$3.29 \times 10^{29}$}
ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet.

\end{document}
