% Source : http://www.les-mathematiques.net/phorum/read.php?10,514044,515390#msg-515390

\documentclass{article}
	\usepackage{amsmath}
	\usepackage{amsthm}

\begin{document}

\begin{proof}
	We have
	$$ A=B \qedhere $$ % This produces one warning and the square is not at the right place.
\end{proof}

\begin{proof}
	We have
	$$ A=B $$ \qedhere
\end{proof}

\begin{proof}
	We have
	\[ A=B \qedhere \]
\end{proof}

\begin{proof}
	We have
	\begin{align*}
		A&=B\\&=C \qedhere
	\end{align*}
\end{proof}

\end{document}
