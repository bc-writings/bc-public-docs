"use strict";StackExchange.inlineTagEditing=function(){function t(t){t.find(".js-tag-editor-container")&&c(!0)}var e,n,i,a,o,s=$("<div></div>"),r=$(".js-tags-label"),l=function(){n.unbind("click").one("click",function(){i.fadeOut("fast",function(){i.appendTo(s),StackExchange.helpers.addSpinner(e),$.ajax({"type":"GET","url":"/posts/"+a+"/edit-tags","data":{"reviewTaskId":o,"numColumns":e.data("columns")},"dataType":"html","success":h,"error":u})}),r.fadeOut("fast")})},c=function(t){StackExchange.helpers.disableSubmitButton(e),StackExchange.helpers.removeMessages();var n=function(){e.empty(),i.appendTo(e),i.show(),e.fadeIn("fast"),r.fadeIn("fast"),l()};t?n():e.fadeOut("fast",n)},h=function(t){StackExchange.helpers.removeSpinner();var n=$(t);"function"==typeof $().autocomplete&&(n=n.not('script[src*="tageditor.js"]'));var s=$('<form method="post" id="edit-tags-form" action="/posts/'+a+'/edit-tags"></form>');e.css("display","none").append(s),s.append(n),e.find(".js-tag-editor-container").after('<div class="form-submit d-flex gs4 mt8"><input type="hidden" name="fkey" value="'+StackExchange.options.user.fkey+'" /><input type="hidden" name="reviewTaskId" value="'+o+'" /><button type="submit" id="edit-tags-submit" class="flex--item s-btn s-btn__primary" tabindex="104">Save Tag Edits</button><a id="edit-tags-cancel" class="flex--item s-btn cancel-edit" href="#" tabindex="105">Cancel</a></div><div class="js-general-error general-error cbt d-none"></div>'),StackExchange.using("postValidation",function(){StackExchange.postValidation.initOnBlurAndSubmit(s,1,"tags",!1,function(t){i.find("a.post-tag").remove(),i.prepend(t.html),c(),$(document).trigger("retag",a)})}),s.find(".cancel-edit").click(function(t){c(),r.fadeIn("fast"),StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.cancel()}),t.preventDefault()}),setTimeout(function(){e.fadeIn("fast",function(){$("#tagnames").focus()})},50)},u=function(t){StackExchange.helpers.removeSpinner(),c(),StackExchange.helpers.showErrorMessage(i,t.responseText&&t.responseText.length<300?t.responseText:"An error occurred when fetching the tag editor")};return{"init":function(t){if(!StackExchange.disableInlineTagEdits){t||(t={});var o=t.editTagsText||"Edit tags";a=$('div.question div.vote > input[type="hidden"]').val()||$("div.question").attr("data-questionid"),e=$("div.question div.post-taglist"),e.find("a.post-tag").wrapAll('<span class="edit-tags-wrapper"></span>'),i=e.find("span.edit-tags-wrapper");var s=$('<a href="javascript:void(0)" id="edit-tags" class="fw-normal p4 m2 ws-nowrap">').attr("title","Edit this question's tags").text(o);n=$("<span>").append(s),i.append(n),l()}},"cancelForFullEditor":t}}();