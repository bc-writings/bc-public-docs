% Source : http://tex.stackexchange.com/questions/39186/block-comments-with-and/

\documentclass[10pt,a4paper]{article}
	\begingroup
		\catcode `\@ = 11
		\catcode `\~ = 13
		\catcode `\% = 12
		\protected\long\gdef\cmt@remove#1%~{\endgroup}
		\ifdefined~
			\global\let\cmt@old~
		\else
			\global\let\cmt@old\relax
		\fi
		\protected\gdef~{\begingroup\catcode`%=12
			\futurelet\next\cmt@}
		\protected\gdef\cmt@
			{\ifx%\next
				\expandafter\cmt@remove
			\else
				\endgroup\expandafter\cmt@old
			\fi}
	\endgroup


\begin{document}

Test.

~%
Comment
on
several
lines...
%~

%~%
Not
a comment
on
several
lines...
%~ i

\end{document}
