%%%
% La mise en page est gérée sans effort par l'\env ''tcbitemize''
% de la bibliothèque ''raster'' du \pack ''tcolorbox''.
%%%
\usepackage{tcolorbox}
\tcbuselibrary{raster}

%%%
% prototype::
%     #1 : des réglages destinés à l'\env ``tcbitemize'' fourni
%          par la bibliothèque ''raster''
%     #2 : un préfixe commun aux chemins des images.
%     #3 : la liste des suffixes identifiant les images.
%%%
\NewDocumentCommand{\stepbystep}{O{} m m}{
  \begin{tcbitemize}[#1]
    \cookbook@tcbitem{#2}{#3}
  \end{tcbitemize}
}

\ExplSyntaxOn

%%%
% prototype::
%     :see: cmd.stepbystep.arg.#2 ,
%           cmd.stepbystep.arg.#3
%%%
\cs_set:Nn \cookbook_tcbitem:nn {
  \clist_map_inline:nn {#2} {
    \tcbitem \includegraphics[width=\textwidth]{#1##1}
  }
}

%%%
% prototype::
%     :see: l3.cookbook_tcbitem:nn
%%%
\cs_new_eq:NN \cookbook@tcbitem \cookbook_tcbitem:nn

\ExplSyntaxOff
