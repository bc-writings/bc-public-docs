\documentclass[varwidth, border = 3pt]{standalone}

\usepackage{main}

\usepackage{amsmath} % NÃ©cessaire pour le tableau testant les styles.

\newcommand{\test}%
           {A \mysymb B}

\newcommand{\verbtest}%
           {A \mathmacro{mysymb} B}

% Une factorisation visible du code...
\NewDocumentCommand{\mathmacro}{m}{\;\backslash#1\;}

\newcommand{\testmathstyle}{
    \[
        \renewcommand{\arraystretch}{1.2}%
        \begin{array}{lll}
              \textbf{Style}
            & \mathtt{\verbtest}
            \\ \hline
              \mathtt{\backslash displaystyle}
            & \displaystyle \test
            \\
              \mathtt{\backslash textstyle}
            & \textstyle \test
            \\
              \mathtt{\backslash scriptstyle}
            & \scriptstyle \test
            \\
              \mathtt{\backslash scriptscriptstyle}
            & \scriptscriptstyle \test
        \end{array}
    \]
}

\begin{document}

\testmathstyle

\end{document}
