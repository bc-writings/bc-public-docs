%%%
% XXX
%%%
\usepackage{tikz}

%%%
% La bibliothèque ''arrows.meta'', spécifique à ''tikz'', XXX
%%%
\usetikzlibrary{arrows.meta}

%%%
% prototype::
%     #1 : XXX
%     #2 : XXX
%     #3 : XXX
%%%
\NewDocumentCommand{ \drawinter }{ m m m }{
  \begin{tikzpicture}
%%%
% XXX
% \pgfmathparse et \pgfmathresult
% \pgfmathprintnumber
%%%
    \@add@deco@dist[green!50!black]{#1}{#2}
    \@add@deco@dist[green!50!black]{#2}{#3}

%%%
% XXX
%%%
    \fill[green!50!black, opacity = .2]
      (#1, -.3) rectangle (#3, .3);

%%%
% XXX
%%%
    \pgfmathparse{#1 - 2.3}
    \let\@inter@start@axe\pgfmathresult

    \pgfmathparse{#3 + 2.6}
    \let\@inter@end@axe\pgfmathresult

    \draw[> = {Latex[width = 4mm]}, ->, line width = 1pt]
      (\@inter@start@axe, 0) -- (\@inter@end@axe, 0);

    \pgfmathparse{floor(#1 - 2)}
    \let\@inter@start@axe\pgfmathresult

    \pgfmathparse{ceil(#3 + 2)}
    \let\@inter@end@axe\pgfmathresult

    \foreach \x in {\@inter@start@axe,...,\@inter@end@axe} {
      \@add@deco@label{\x}
    }

%%%
% XXX
%%%
    \foreach \x in {#1,#2,#3} {
      \@add@deco@label[green!50!black]{\x}
    }

%%%
% XXX
%%%
    \draw[
        > = {
          Bracket[width = 7mm, line width = 2pt, length = 1.5mm]
        },
        <->,
        green!50!black
    ] ([xshift = -1pt] #1, 0) -- ([xshift = 1pt] #3, 0);
  \end{tikzpicture}
}

%%%
% prototype::
%     #1 : XXX
%     #2 : XXX
%%%
\NewDocumentCommand{ \@add@deco@label }{ O{black} m }{
  \draw [#1] (#2, -.3)
    node [below] {$\pgfmathprintnumber{#2}$};

  \draw [very thick, #1]
    (#2, -.2) -- (#2, .2);
}

%%%
% prototype::
%     #1 : XXX
%     #2 : XXX
%     #3 : XXX
%%%
\NewDocumentCommand{ \@add@deco@dist }{ O{black} m m }{
  \draw[#1, <->, line width = 1pt]
  (#2, .7) -- (#3, .7);

  \pgfmathparse{(#2 + #3)/2}
  \let\@inter@pos\pgfmathresult

  \pgfmathparse{#3 - #2}
  \let\@inter@mid@dist\pgfmathresult

  \draw (\@inter@pos, .7)
    node[above, green!50!black] {$\pgfmathprintnumber{\@inter@mid@dist}$};
}
