%%%
% XXX
%%%
\usepackage{tikz}

%%%
% La bibliothèque ''arrows.meta'', spécifique à ''tikz'', XXX
%%%
\usetikzlibrary{arrows.meta}

\NewDocumentCommand{ \drawinter }{ O{-5} O{5} m m m }{
  \begin{tikzpicture}
%%%
% XXX
%%%
    \draw[green!50!black, <->, line width=1pt]
      (#3, .7) -- (#4, .7);

%%%
% XXX
%%%
    \pgfmathparse{(#3 + #4)/2}
    \let\@inter@pos\pgfmathresult

    \pgfmathparse{#4 - #3}
    \let\@inter@mid@dist\pgfmathresult

%%%
% XXX
%%%
    \draw (\@inter@pos, .7)
      node[above, green!50!black] {$\pgfmathprintnumber{\@inter@mid@dist}$};

    \draw[green!50!black, <->, line width=1pt]
      (#4, .7) -- (#5, .7);

    \pgfmathparse{(#4 + #5)/2}
    \let\@inter@pos\pgfmathresult

    \pgfmathparse{#5 - #4}
    \let\@inter@mid@dist\pgfmathresult

    \draw (\@inter@pos, .7)
      node[above, green!50!black] {$\pgfmathprintnumber{\@inter@mid@dist}$};

%%%
% XXX
%%%
    \fill[green!50!black, opacity=.2]
      (#3, -.3) rectangle (#5, .3);

%%%
% XXX
%%%
    \pgfmathparse{#3 - 2.3}
    \let\@inter@start@axe\pgfmathresult

    \pgfmathparse{#5 + 2.6}
    \let\@inter@end@axe\pgfmathresult

    \draw[>={Latex[width=4mm]},->, line width=1pt]
      (\@inter@start@axe, 0) -- (\@inter@end@axe, 0);

    \pgfmathparse{floor(#3 - 2)}
    \let\@inter@start@axe\pgfmathresult

    \pgfmathparse{ceil(#5 + 2)}
    \let\@inter@end@axe\pgfmathresult

    \foreach \x in {\@inter@start@axe,...,\@inter@end@axe} {
      \@add@tock@label{\x}
    }

%%%
% XXX
%%%
    \foreach \x in {#3,#4,#5} {
      \@add@tock@label[green!50!black]{\x}
    }

%%%
% XXX
%%%
    \draw[
        > = {
          Bracket[width=7mm, line width=2pt, length=1.5mm]
        },
        <->,
        green!50!black
    ] ([xshift = -1pt] #3, 0) -- ([xshift = 1pt] #5, 0);
  \end{tikzpicture}
}

%%%
% prototype::
%     #1 : XXX
%%%
\NewDocumentCommand{ \@add@tock@label }{ O{black} m }{
  \draw [#1] (#2, -.3)
    node [below] {$\pgfmathprintnumber{#2}$};

  \draw [very thick, #1]
    (#2, -.2) -- (#2, .2);
}
