% !TEX TS-program = lualatex

%%%
% src::
%     url = https://tex.stackexchange.com/a/751717/6880
%%%

\documentclass{standalone}

%%%
% Des couleurs faciles d'emploi via le package ''xcolor''!
%%%
\usepackage[svgnames]{xcolor}

%%%
% La bibliothèque ''luadraw'' allie une facilité d’utilisation à
% un rendu particulièrement soigné.
%%%
\usepackage[3d]{luadraw}

\begin{document}

\begin{luadraw}{name = spherical-square-1}
  local g = graph3d:new{window={-6,6,-6,6},viewdir={190,75},size={10,10}}
  g:Linewidth(6); Hiddenlinestyle = "dashed";Hiddenlines = true
 require 'luadraw_spherical'
 arrowBstyle = "-stealth"
 local R= 5
 local O,A,B,C,D = M(0,0,0),M(3, -4, 0), M(3, 0, -4),M(3, 4, 0),M(3, 0,4)
 local P = {A,pt3d.prod(A-B,C-B)}
 g:Define_sphere({center=O, radius=R})
 g:DSfacet({A,B,C,D}, {fill="brown",fillopacity=0.6,color="blue"})
 g:DScircle(P,{color="red"})
 g:Dspherical()
 g:Dlabel3d("$A$",A,{pos="W"}, "$B$",B,{}, "$C$",C,{pos="W"}, "$D$",D,{pos="S"},"$O$",O,{pos="S"})
 g:Show()
\end{luadraw}

\end{document}
