% !TEX TS-program = lualatex

%%%
% src::
%     urls = https://github.com/pfradin/luadraw/discussions/64 ,
%            https://fr.wikipedia.org/wiki/Dodécaèdre_régulier
%%%

\documentclass{standalone}

%%%
% En couleur, c'est plus sympa !
%%%
\usepackage{xcolor}

%%%
% La bibliothèque ''luadraw'' allie une facilité d’utilisation à
% un rendu particulièrement soigné.
%%%
\usepackage[3d]{luadraw}

\begin{document}

\begin{luadraw}{name = by-hand-3d-model-obj}
------
-- Définition d'un dodécaèdre dans un format de type Wavefront.
--
--
-- note::
--     Pour limiter les calculs, le dodécaèdre a été définie de
--     façon incomplète (dans la suite, nous ne pourrons pas faire
--     ce genre d'optimisation).
------
local C0 = (1 + math.sqrt(5)) / 4
local C1 = (3 + math.sqrt(5)) / 4

local polyhedron = {}

polyhedron.vertices = {
  M( 0.0,  0.5,   C1),
  M( 0.0,  0.5,  -C1),
  M( 0.0, -0.5,   C1),
  M( 0.0, -0.5,  -C1),
  M(  C1,  0.0,  0.5),
  M(  C1,  0.0, -0.5),
  M( -C1,  0.0,  0.5),
  M( -C1,  0.0, -0.5),
  M( 0.5,   C1,  0.0),
  M( 0.5,  -C1,  0.0),
  M(-0.5,   C1,  0.0),
  M(-0.5,  -C1,  0.0),
  M(  C0,   C0,   C0),
  M(  C0,   C0,  -C0),
  M(  C0,  -C0,   C0),
  M(  C0,  -C0,  -C0),
  M( -C0,   C0,   C0),
  M( -C0,   C0,  -C0),
  M( -C0,  -C0,   C0),
  M( -C0,  -C0,  -C0)
}

polyhedron.facets = {
  {  1,  3, 15,  5, 13},
  {  1, 13,  9, 11, 17},
  {  1, 17,  7, 19,  3},
  {  8,  7, 17, 11, 18},
  {  8, 18,  2,  4, 20},
  {  8, 20, 12, 19,  7},
  { 10, 12, 20,  4, 16},
  { 10, 16,  6,  5, 15},
  { 10, 15,  3, 19, 12},
  { 14,  2, 18, 11,  9},
  { 14,  9, 13,  5,  6},
  { 14,  6, 16,  4,  2}
}

------
-- ¨Def de la zone graphique.
------
local graphview = graph3d:new{
  window  = {-2.25, 2.25, -2.25, 2},
  viewdir = {5, 108},
  size    = {10, 10}
}

------
-- Réglages liés aux lignes.
------
Hiddenlines     = true
Hiddenlinestyle = "dashed"

------
-- Tracé du dodécaèdre.
------
graphview:Dpoly(
  polyhedron,
  {
    mode  = 4,
    color = "cyan"
  }
)

------
-- Montrons le résultat de notre oeuvre.
------
graphview:Show()
\end{luadraw}

\end{document}
