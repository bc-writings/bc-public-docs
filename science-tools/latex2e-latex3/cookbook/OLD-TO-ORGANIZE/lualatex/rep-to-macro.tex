% Source: https://tex.stackexchange.com/questions/672243/passing-values-from-a-lua-function-to-tex

\documentclass{article} 
\usepackage{luacode}

\begin{luacode}

function divmod(a,b)
    local q = 0
    local r = a
    while not (r < b) do
        q = q+1
        r = r-b
    end
    return q,r
end

\end{luacode}
\def\x{}\def\y{}

\begin{document} 
\def\c{45} \def\d{7}

\directlua{
q,r=divmod(\c,\d)
token.set_macro("xxx",q)
token.set_macro("yyy", r)
}

x is \xxx, y is \yyy
\end{document}