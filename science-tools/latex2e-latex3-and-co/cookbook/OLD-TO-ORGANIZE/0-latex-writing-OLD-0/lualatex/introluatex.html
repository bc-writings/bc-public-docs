<!DOCTYPE html>
<html lang="en">
  <head>
      <script src="https://cdn.ravenjs.com/3.13.1/raven.min.js"></script>
  <script>
    var _RAVEN_MAX_EVENTS_PER_MINUTE = 5;
    var _raven_events_this_minute = 0;
    setInterval(function(){ _raven_events_this_minute = 0 }, 60000);

    Raven.config("https://93de9971cda44ee28b7a5280494934ce@app.getsentry.com/82355", {
        release: "2d671a424d23a16f9b56e245203fac6c95f1a0a5",
      tags: {
        environment: 'production',
      },
      whitelistUrls: [
        'www.overleaf.com',

        'filepicker.io',
        'dropbox.com',
        'pusher.com',
        // Mathjax CDN
        'cdnjs.cloudflare.com/ajax/libs/libs/mathjax'
      ],
      ignoreErrors: [
        'Permission denied to access property "type"',
        "Cannot read property 'id' of null",
        "<unlabeled event>",
      ],
      shouldSendCallback: function(data) {
        return _raven_events_this_minute++ <= _RAVEN_MAX_EVENTS_PER_MINUTE;
      },
    }).install();
  </script>

    
    <title>An Introduction to LuaTeX (Part 1): What is it—and what makes it so different? - Overleaf Blog</title>
<meta prefix="og: http://ogp.me/ns#" property="og:title" content="An Introduction to LuaTeX (Part 1): What is it—and what makes it so different? - Overleaf Blog" />
<meta name="twitter:title" content="An Introduction to LuaTeX (Part 1): What is it—and what makes it so different? - Overleaf Blog">

  <meta name="description" content="
Image Credit: By Per Erik Strandberg sv:User:PER9000 - Own work, CC BY-SA 2.5, Link
In this first article of a new series on LuaTeX, we provide a non-tech..." />
  <meta prefix="og: http://ogp.me/ns#" property="og:description" content="
Image Credit: By Per Erik Strandberg sv:User:PER9000 - Own work, CC BY-SA 2.5, Link
In this first article of a new series on LuaTeX, we provide a non-tech..." />
<meta name="twitter:description" content="
Image Credit: By Per Erik Strandberg sv:User:PER9000 - Own work, CC BY-SA 2.5, Link
In this first article of a new series on LuaTeX, we provide a non-tech...">

  <link rel="canonical" href="https://www.overleaf.com/blog/571-an-introduction-to-luatex-part-1-what-is-it-and-what-makes-it-so-different" />
  <meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://www.overleaf.com/blog/571-an-introduction-to-luatex-part-1-what-is-it-and-what-makes-it-so-different" />

  <meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />

  <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://www.filepicker.io/api/file/PzM59KHbRZWLGk5nVT18" />

  <meta name="twitter:image:src" content="https://www.filepicker.io/api/file/PzM59KHbRZWLGk5nVT18">

<meta property="fb:admins" content="61210733" />

  <meta name="twitter:card" content="summary_large_image">

<meta name="twitter:site" content="@overleaf">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fuAN4BPqTgTPWSLvxr41r1Pv5OalTIPQuB2GnE7XRuJSddmys0czKvMi0Crlbh3/YeCIuQESeEKc759pwytaFA==" />

<link rel="icon" type="image/x-icon" href="/favicon.ico"/>

    <link rel="stylesheet" media="all" href="/assets/application-icons-be632182eaddc88f6183aa26748f75581ce833e8f8ccd93344a6a29988df1cb4.css" />
    <link rel="stylesheet" media="all" href="/assets/application-b78eb0e51cf300c4bf3e4e0361266954d49bd511a4138011e5a7a2d3b9ab1862.css" />
    <link rel="stylesheet" media="all" href="/assets/clean_theme-8708e6ad44693b4a7b0bf404951e86f74fb87d8b23671bb93f9daa00664515a7.css" />
      <link rel="stylesheet" media="print" href="/assets/clean_theme_print-5d58e8f45db5e16cb914a1bfec675e2537f92381a7cce7291ffaf1f1c7d6f664.css" />
    <link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic,900italic">
    <script src="/assets/application-704fc5c9228f98ceadaa6d61c1df3b8b4293f35ff84fdb5f139f379503db9021.js"></script>
<script src="/assets/home-c3cb3f79a487dcb2a1088b794ac8568bf22a103e7259eca290f2edcd957e2d51.js"></script>
    <script type="text/javascript">
  ga('create', "UA-29673445-2");
    ga("set", "dimension5", "false");

  (function() {
    var docRx = /^\/(?:docs\/)?\d+[a-z]{6,12}/;
    var gaPathname = document.location.pathname;
    if (!docRx.test(gaPathname)) return;
    ga('set', 'page', gaPathname.replace(docRx, '/doc'));
  })();
  ga('send', 'pageview');
</script>

      <link rel="alternate" type="application/atom+xml" title="Overleaf Blog" href="https://www.overleaf.com/blog/feed" />
<link rel="alternate" type="application/rss+xml" title="Overleaf Blog" href="https://www.overleaf.com/blog/feed" />

            <script>
//<![CDATA[

              $(function() {
                newsText.setHtml("<a href=\"https://www.overleaf.com/blog/518-exciting-news-sharelatex-is-joining-overleaf\">Exciting News: ShareLaTeX is Joining Overleaf<\/a>");
              });

//]]>
</script>
    <script>
//<![CDATA[

      APP_NAME = "Overleaf";
      APP_DOMAIN = "overleaf.com";
      APP_URL = "https://www.overleaf.com";

//]]>
</script>  </head>
      <body class="" >
          <div class="navbar navbar-inverse  navbar-fixed-top navbar-main" role="navigation">
  <a href="#start-of-content" class="skip-to-content-link">Skip to content</a>

  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle pull-right" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img alt="Overleaf" src="/assets/logos/overleaf-white-410-618331cf61e2c1a0207580d1aede6c55cbfafa11d53b94ec554da7a7868e2a30.png" />
      </a>
    </div>


    <div class="collapse navbar-collapse navbar-ex1-collapse" role="navigation">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown ">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">FEATURES &amp; BENEFITS <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li class="">
              <a href="/benefits">For Writing</a>
            </li>
            <li class="">
              <a href="/edu">For Teaching</a>
            </li>
            <li class="">
              <a href="/universities">For Universities</a>
            </li>
            <li class="">
              <a href="/publishers">For Publishers</a>
            </li>
            <li class="">
              <a href="/enterprises">For Enterprises</a>
            </li>
          </ul>
        </li>
        <li class="">
          <a href="/latex/templates">TEMPLATES</a>
        </li>
        <li class="">
          <a href="/plans">PRICING</a>
        </li>
        <li class="dropdown active">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">COMPANY <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li class="">
              <a href="/about">About us</a>
            </li>
            <li class="">
              <a href="/contact">Contact us</a>
            </li>
            <li class="">
              <a href="/partners">Partners</a>
            </li>
            <li class="">
              <a href="/advisors">Advisors</a>
            </li>
            <li class="">
              <a href="/press">Press</a>
            </li>
            <li class="active">
              <a href="/blog">Blog</a>
            </li>
            <li>
              <a href="/jobs">Jobs</a>
            </li>
          </ul>
        </li>
        <li class="">
          <a href="/help">HELP</a>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="navbar topbar-fixed-top topbar">
  <div class="container">
    <p class="topbar-message news" id="topbar-news" style="display:none"></p>
    <ul class="nav navbar navbar-nav navbar-right user-nav">
            <li id="signup-menu">
        <a class="highlight" href="/signup">Sign Up</a>
      </li>
    <li id="signin-menu">
      <a href="/users/sign_in">Sign In</a>
    </li>
    </ul>
  </div>
</div>
<div id='navbar-print'>
  <img alt="Overleaf" src="/assets/logos/overleaf-color-410-c94b1396219a228e575797a8914a26e432750568e66027fab250c0cb25bd2f3e.png" />
</div>

    <div class="flyover-container" >
      <div id="flyover-loading" class="flyover flyover-info flyover-persistent flyover-animate" style="display:none;" role="alertdialog" aria-label="Loading notice" tabindex="0">
        <div class="close-info">(click to close)</div>
        <h5>Loading</h5>
        <p>Please wait</p>
      </div>
      <div id="flyover-error" class="flyover flyover-danger" style="display:none;" role="alertdialog" aria-label="Errors" tabindex="0">
        <div class="close-info">(click to close)</div>
        <h5>Error</h5>
        <p></p>
      </div>
      <div id="flyover-success" class="flyover flyover-success" style="display:none;" role="alertdialog" aria-label="Success" tabindex="0">
        <div class="close-info">(click to close)</div>
        <h5>Success</h5>
        <p></p>
      </div>
      
    </div>

    <div id="start-of-content"></div>
    

<div id="blog_post" class="main-content">
    <div class="container">
        <div class="section_header">
          <h3>
            <a href="/blog">Blog</a>
            </h3>
        </div>

        <div class="row">
            <div class="col-sm-8">
                <div class="post_content">
                  <div id="sharedcount">
  <div style="display: none;">
    <i class="wl-icon wl-icon-accent wl-icon-shares shares-icon"></i>
    <span id="total_shares"></span><br/>
    <span id="shares_text">shares</span>
  </div>
  &nbsp; 
</div>

                    <h2>An Introduction to LuaTeX (Part 1): What is it—and what makes it so different?</h2>
                      <span class="author">
                          By <a href="#author_box">Graham Douglas</a>
                      </span>
                    <span class="date"><time datetime="2017-10-23">October 23, 2017</time></span>
                    <h2>Introduction: LuaTeX as a toolkit</h2>

<img src="https://www.filepicker.io/api/file/PzM59KHbRZWLGk5nVT18"> <p>Image Credit: By Per Erik Strandberg <a href="https://sv.wikipedia.org/wiki/User:PER9000" class="extiw" title="sv:User:PER9000">sv:User:PER9000</a> - <span class="int-own-work" lang="en">Own work</span>, <a href="http://creativecommons.org/licenses/by-sa/2.5" title="Creative Commons Attribution-Share Alike 2.5">CC BY-SA 2.5</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=830530">Link</a></p> 

<p>The image used to accompany this article was not chosen by accident: LuaTeX is a <em>toolkit</em>—it contains sophisticated software tools and components with which you can construct (typeset) a wide range of documents. The sub-title of this article also poses two questions about LuaTeX: What is it—and what makes it so different? The answer to “What is it?” may seem obvious: “It’s a TeX typesetting engine!” Indeed it is, but a broader view, and one to which this author subscribes, is that LuaTeX is an extremely versatile TeX-based <em>document construction and engineering system</em>.</p>

<h3>Explaining LuaTeX: Where to start?</h3>
<p>The goal of this first article on LuaTeX is to offer a context for understanding what this TeX engine provides and why/how its design enables users to build/design/create a wide range of solutions to complex typesetting and design problems—perhaps also offering some degree of “future proofing” as users increasingly need TeX-based software which is capable of adapting to the ever-changing technical ecosystem.</p> 

<p>In this author’s opinion, listing and describing its features/capabilities is not necessarily the best place to start out when developing an understanding of LuaTeX’s capabilities and potential. Such an approach won’t be particularly helpful for readers who are not familiar with other TeX engines and for whom feature-based comparisons are unlikely to be especially meaningful.</p> 

<p>At the risk of exhausting the reader’s patience (“Just get to the point!”) I’ll be taking a more “holistic” approach, hopefully providing useful background, but at the cost of some additional reading—and delving into a few programming topics to assist with understanding. Future articles will provide numerous practical examples but, for now, we attempt to lay down the basic foundations for understanding LuaTeX.</p> 

<p>This article strongly reflects the author’s personal “journey” in developing an understanding and appreciation of LuaTeX: that by first knowing something about the philosophy behind LuaTeX’s development, and seeing it as a container of software tools, you will better appreciate the extensive solution domains opened-up by this amazing software.</p>

<h2>LuaTeX: Not just for academia, or mathematics!</h2>
<p>The wealth of features and functionality built into LuaTeX not only provide exceptionally high-quality typesetting via traditional LaTeX but they also offer tremendous scope for developing bespoke, non-LaTeX-based, solutions to complex document production and engineering problems. LuaTeX has the powerful Lua scripting language embedded into it, meaning, for example, that you can use Lua to load “plugins” (external software libraries) into LuaTeX; this further enables high levels of automation, integration into existing software systems or workflows and leveraging specialist software for data, text or graphics processing.</p> 

<p>Historically, TeX has been associated with scholarly authorship/publishing, especially within mathematics, but LuaTeX, in particular, has significant potential for application within many other domains—including commercial PDF document production. One such example is <a href="https://speedata.github.io/publisher/">speedata publisher</a> which uses LuaTeX purely as the PDF-generation engine within its XML-based workflow—it does not use LaTeX at all. Indeed, speedata publisher contains virtually no TeX code—I asked <a href="https://twitter.com/patrickgundlach">Patrick Gundlach</a>, speedata publisher’s developer, who confirmed that, in total, it uses around three lines of TeX code. Its powerful typesetting capabilities are designed and implemented in Lua code, using LuaTeX’s Lua API (a topic we discuss later in this article).</p>

<h3>Oh, alright: A very short list</h3>
<p>In addition to its extensibility via plugins, did you know that among LuaTeX’s many built-in features is the ability to...</p>
<ul class="text-list">
<li><strong>parse (process) external PDF files</strong>: examining their low-level structure and content in great detail. If you want to dive straight into this here’s a <a href="http://www.tug.org/TUGboat/tb35-1/tb109hoekwater.pdf">paper by Taco Hoewater</a>;</li>  
<li><strong>process ZIP files</strong>: for example, here is a <a href="https://www.sharelatex.com/project/59ce51773cd109428671e790">ShareLaTeX project</a> showing how to extract files contained in ZIP archives (based on Lua code originally published <a href="https://stackoverflow.com/questions/2829175/how-to-extract-files-from-a-zip-file-using-lua">here</a>);
</li>
<li><strong>typeset with virtually no TeX code</strong>: using the Lua API you can perform sophisticated typesetting using a minimal amount of TeX code. If you wish to explore that in more detail, read this wiki post: <a href="http://wiki.luatex.org/index.php/TeX_without_TeX"><em>TeX without TeX</em></a>.</li>
</ul>

<h2>A short personal story: How I first discovered LuaTeX</h2>
<p>I first found out about LuaTeX in late 2009/early 2010 when it was still in mid-beta-release stage (version 0.50). At that time I was looking for TeX-based software to typeset the handwritten notes resulting from my efforts to learn some Arabic. Google searches revealed a collection of videos from the TUG 2009 conference (<a href="https://www.youtube.com/playlist?list=PL2D4DD50DC9C0BA0E">now on YouTube</a>) which included demonstrations of very high quality Arabic typesetting (via Hans Hagen’s <a href="http://wiki.contextgarden.net/Main_Page">ConTeXt package</a>). Those videos also include a talk entitled <a href="https://youtu.be/AKv4po9PGW0"><em>The LuaTeX Project: halfway to version 1</em></a>.</p> 

<p>The TeX engine being used to produce that exquisite Arabic typesetting was something called “LuaTeX”. At the time I was working in scientific (physics) publishing but although fully aware of TeX/LaTeX I had not heard of LuaTeX: I was intrigued and wanted to learn more about this new TeX engine. Because LuaTeX was still in the beta development stage, and undergoing rapid development, I wanted to stay current with the very latest updates so the best option (for me) was the do-it-yourself route of building (compiling) the LuaTeX executable from its source code. In addition to the executable LuaTeX program, you also need a “TeX installation” to provide the environment in which to run LuaTeX (e.g., texmf.cnf, macro packages, fonts etc). Rather than downloading and installing the huge <a href="https://www.tug.org/texlive/">TeX Live</a> distribution I opted to create an absolutely minimal custom TeX installation with which to explore LuaTeX (an “interesting” exercise which I  <a href="http://www.readytext.co.uk/?cat=30">documented on my personal blog</a>).</p>

<p>Each new release of LuaTeX is accompanied by its Reference Manual (e.g., for <a href="https://www.tug.org/svn/texlive/tags/texlive-2017.1/Master/texmf-dist/doc/luatex/base/luatex.pdf?revision=44591&view=co">version 1.0.4</a>) which documents the latest features and functionality of the software. However, it is a <em>reference</em> manual and (necessarily) rather light on explanations suitable for the beginner wishing to get started with this incredible TeX engine—a degree of familiarity with low-level TeX concepts is assumed. Given that I had discovered LuaTeX at a relatively early stage in its development, good introductory material was, at that time, relatively hard to find so it took a little exploring, experimentation (and some frustration…) before the pieces began to fall into place. Needless to say, my Arabic studies came to an abrupt halt as I became fascinated by this amazing software and eventually moved into writing LuaTeX <a href="http://www.readytext.co.uk/?p=3143">plugins for typesetting Arabic</a> instead!</p>

<p>My own “LuaTeX journey” was certainly very non-linear but, along the way, it afforded an opportunity to learn about (Lua)TeX (and TeX installations) “from the ground up”: my blog hosts an eclectic collection of <a href="http://www.readytext.co.uk/?cat=3">articles</a> based on various topics I explored and worked on during that time. Hopefully, this article make appropriate use of that time and experience, helping others to become interested to start exploring the capabilities of LuaTeX.</p> 

<p>LuaTeX continues to be developed and, at the time of writing, it has reached version 1.0.4 which was released with TeX Live 2017. The developers are very active and any bugs discovered are usually fixed soon after being reported—e.g., via the <a href="https://mailman.ntg.nl/mailman/listinfo/dev-luatex"><code>dev-luatex</code> mailing list</a> or via the <a href="http://tracker.luatex.org/my_view_page.php">online LuaTeX bug tracker</a>. Long before it reached version 1.0 LuaTeX was production-capable—although, of course, you needed to accept that features were continually evolving and, on occasion, changes could break your existing TeX code. Today, LuaTeX is, of course, supported by the Overleaf and ShareLaTeX platforms (as LuaLaTeX).</p>

<h2>TeX in a changing world: New technologies and workflows</h2> 
<p>Clearly, TeX engines do not operate within a technologically-static world and, occasionally, innovations arise which are immediate and obvious candidates for inclusion into TeX engines—one such innovation is OpenType variable fonts, which we briefly discuss below.</p>

<p>Although there’s little doubt that TeX-based typesetting software is extraordinarily versatile, TeX engines now operate within a rapidly-changing and very diverse software ecosystem—new workflows accentuating the need for integration and the flexibility to implement a wide range of document/typesetting solutions, of which TeX might be just one component.</p> 

<p>TeX not only has to stay relevant to its current users but also attract new ones by enabling content-creation solutions which remain useful to incoming generations—people who might not necessarily want to use TeX as a standalone tool but, perhaps, as part of an overall workflow via online collaborative platforms such as Overleaf and ShareLaTeX.</p>

<p>Even a brief perusal of <a href="https://tex.stackexchange.com/">tex.stackexchange</a> demonstrates the huge variety of documents and solutions being produced and implemented with TeX-based software—often displaying incredible ingenuity as people find ever more use-cases and content types they wish to generate. Additionally, the need for workflows which can process TeX-based markup/content to produce non-PDF (and non-DVI) outputs has never been greater—such as MathML/XML and HTML. For example, “converting” TeX into the <a href="https://jats.nlm.nih.gov/">JATS XML</a> format (long used within academic journal publishing) but also, more recently, the rise of epub used within ebook publishing.</p>

<h3>Variable Font Technology—Times They Are A-Changin'</h3>
<p>On 14 September 2016, Microsoft, <a href="https://opensource.googleblog.com/2016/09/introducing-opentype-font-variations.html">Google</a>, <a href="https://blog.typekit.com/2016/09/14/variable-fonts-a-new-kind-of-font-for-flexible-design/">Adobe</a> and Apple announced a new font technology: <a href="https://medium.com/@tiro/https-medium-com-tiro-introducing-opentype-variable-fonts-12ba6cd2369"> OpenType variable fonts</a>. We won’t explore this technology in any detail but suffice to say that highly respected font experts such as <a href="https://twitter.com/ThomasPhinney">Thomas Phinney</a> and <a href="https://twitter.com/TiroTypeworks">John Hudson</a> have observed (<a href="https://twitter.com/ThomasPhinney/status/917087509342851072">on Twitter</a>) that variable-font technology is being adopted far faster than many earlier font innovations—quite likely driven by the needs of web designers requiring responsive designs which adapt to the myriad of different screen sizes/resolutions present on mobile devices.</p>


<p>Clearly, OpenType variable fonts is an interesting and exciting development in font technologies, one that TeX users could undoubtedly benefit from—indeed, this question has inevitably been <a href="https://tex.stackexchange.com/questions/355104/tex-luatex-xetex-fontspec-support-for-opentype-variable-fonts">raised on tex.stackexchange</a> with LuaTeX’s support discussed in the LuaTeX <a href="https://www.tug.org/pipermail/luatex/2016-September/006204.html">mailing list</a>.</p>

<p>In passing, it’s worth noting that font technology predicated on “parametric” font creation is not an entirely new idea: Knuth’s METAFONT and Adobe’s Multiple Master technologies are, in some ways, early progenitors, even if the implementation details are rather different.</p>

<h3>Variable fonts: When do we want them—now?</h3>
<p>Any new and useful technology standard/specification needs time to “bed into” its target ecosystem of developers and implementers—including time to iron out any ambiguities or interpretations of wordings within the specification itself. Developers have to read, and understand, the documentation and turn it into real working software—which, here, includes creating the fonts and technologies to use them: compatible browsers and typesetting engines. TeX developers will clearly need access to high quality variable fonts that can be used as reliable “benchmarks” for implementing (programming) support for variable-font technologies.</p> 

<p>Implementing any new technology within TeX, such as variable fonts, raises the <em>potential</em> need to modify the internals of TeX engines—of course, the need to do that depends upon the nature of that technology and, crucially, which aspect of TeX’s behaviour is being subjected to change. It’s not always necessary to modify TeX engines themselves, perhaps only requiring changes to supporting/ancillary software, including any “components” (third-party libraries of code) used within those programs. Internally, TeX engines are <em>fiendishly</em> complex—developing an understanding of TeX’s source code sufficient to make reliable modifications requires considerable, and highly specialist, expertise (of which there is a very limited supply). It is also essential that any modifications don’t adversely affect the long-term stability/compatibility of TeX engines—which is vital for the TeX community and for those who subsequently process an author’s (La)TeX file(s): most notably academic publishers and cloud-based services such as Overleaf and ShareLaTeX.</p> 

<p>Many TeX users are likely to be interested in leveraging variable fonts; for example,  implementing new design possibilities or finding solutions to tricky typesetting problems. So, in some sense, there’s a quandary: TeX users wanting access to a new technology but its implementation depends upon a very limited resource: the number of developers qualified and able to make it happen. Modification of TeX’s internals is difficult, and, in general, best avoided wherever possible, so is there another way to approach adding (certain classes) of new features/capabilities to TeX? Yes! and LuaTeX has taken that path.</p>

<h4>Early experiments: OpenType variable fonts and LuaTeX</h4>
<p>LuaTeX’s design has enabled rapid experimentation with variable font technology. Already, as of April 2017, the ConTeXt TeX format, which uses LuaTeX, had a <a href="https://mailman.ntg.nl/pipermail/ntg-context/2017/088343.html">beta version</a> which implemented OpenType variable fonts. This was possible because ConTeXt’s font support is built in Lua code (and ConTeXt has its own fontloader written in Lua).</p>

<h2>LuaTeX: Background and history</h2>
<p>LuaTeX is, in TeX terms, “the new kid on the block” despite having been in active development for over 10 years. The LuaTeX web site <a href="http://www.luatex.org/roadmap.html">documents</a> that LuaTeX started life in 2005 with (I believe) active and sustained development beginning in 2006. Due to its inherent complexity, and the diligence of those who built it, LuaTeX really did take 10 years of development for it to reach version 1.0, which was <a href="https://mailman.ntg.nl/pipermail/dev-luatex/2016-September/005882.html">announced by its developers</a> (Hans Hagen, Hartmut Henkel, Taco Hoekwater, Luigi Scarso) on 27 September 2016.</p>

<p>Within that release announcement is an important statement of principle:</p> 

<blockquote>“Our main objective is to provide a variant of TeX that permits user extensions without the need to adapt the inner workings.”</blockquote>

<p>This wording perfectly encapsulates the philosophy behind LuaTeX’s development and points to a route through which TeX-based software can address the challenges we have already mentioned: adopting new technologies and remaining relevant to new generations of users.</p> 

<p>It’s now time to address the second question contained in this article’s sub-title: “what makes it so different”. By exploring the meaning of “...permits user extensions without the need to adapt the inner workings” we can better understand the essence of what LuaTeX “brings to the table”.</p>

<h2>LuaTeX: Opening up TeX’s “black box”</h2>
<p>Knuth’s original TeX program is the common ancestor of all modern TeX engines in use today and LuaTeX is, in effect, the latest evolutionary step: derived from the pdfTeX program but with the addition of some powerful software components which bring a great deal of extra functionality.</p> 

<p>When Knuth wrote the original version of the TeX software he also provided the TeX language as a way to control and program its typesetting behaviour: some 320 low-level commands (primitives) were made available to users and developers of TeX macro packages. Those commands offered varying degrees of control or influence over certain aspects of TeX’s typesetting behaviour but much of TeX’s internal functionality, algorithms, decision-making processes, data and data structures were hidden from the user. Arguably, Knuth’s TeX program was not a totally “black box” but certainly a very dark shade of grey—admittedly, the source code was made available but, for the vast majority of people, that too is a black box of incomprehensibility.</p> 

<p>We refer to the internal processes within TeX being somewhat of a “black box”; however, LuaTeX opens up its TeX-based internals to provide users/developers with far greater access to, and control of, many of the once-hidden processes taking place deep inside the TeX engine. LuaTeX also adds many new primitive commands which provide control over the new features.</p>

<h3>LuaTeX: Derived from pdfTeX but does not use pdfTeX’s code</h3>
<p>For the sake of accuracy, it is important to note that although we described LuaTeX as derived from pdfTeX, LuaTeX does not directly use pdfTeX’s original program code. One of LuaTeX’s developers (Taco Hoekwater) undertook the truly <em>Herculean</em> task of re-writing LuaTeX’s core TeX engine in clean, modern C code (CWEB).</p>

<h4>Historical note</h4>
<p>Partly due to the age of Knuth’s original TeX source code—from which its modern descendents are derived—modifying it to adapt or create new TeX-based typesetting engines is a complex and convoluted process. Part of that process requires the conversion of Pascal code into C code—which is not without a <a href="http://www.readytext.co.uk/?p=2529">certain degree of complexity</a>. The resultant machine-generated C code is extraordinarily verbose and very difficult to read or understand. Clearly, having LuaTeX’s code completely rewritten circumvents the entire Pascal-to-C conversion process.</p>

<h2>LuaTeX’s building blocks</h2>
<p>Within the introduction we made reference to LuaTeX being a “toolkit” and described it as “document construction and engineering system”. We’ve seen that within the LuaTeX 1.0 announcement its developers stated:</p>

 <blockquote>“Our main objective is to provide a variant of TeX that permits user extensions without the need to adapt the inner workings.”</blockquote> 

<p>It’s now time to pull these threads together and ideas to focus on the details of what this all <em>actually means</em> in practice.</p>

<h3>The LuaTeX jigsaw</h3>
<p>If you were to look “under the hood” you’d see that the LuaTeX software, i.e., the actual executable program, is constructed from a collection of software components which are combined together to provide LuaTeX’s overall functionality. Of course, this is nothing new and most software is constructed like that. However, what makes LuaTeX different to other TeX engines is that these components are combined in such a way that users are given far greater access to many aspects of TeX’s internal functionality: TeX’s typesetting algorithms, decision-making processes, data and data structures. This opening-up of TeX’s internals enables users to construct new typesetting solutions without the need for modifying the actual TeX engine itself.</p>

<h3>The Lua in LuaTeX: A key to the “black box”</h3>
<p>Lua is a very powerful, yet easy-to-learn, scripting language which <a href="https://www.lua.org/about.html">originates from Brazil</a>—it was created in 1993 and is still actively developed. One of Lua’s strengths is its use as a programming language with which to “glue together” disparate software components, allowing you to use them through a simple but versatile scripting language. Lua plays a central role in opening-up the inner workings of the LuaTeX TeX engine, but to better understand how this is achieved, it is worth taking a slight detour to very briefly discuss two programming concepts:</p>

<ul>
<li>Application Programming Interface (API);</li> 
<li>programming language binding.</li>
</ul>

<p>Feel free to skip this section if you are comfortable with those concepts. Neither topic will be covered in any detail—we’re not aiming for strict technical rigour but instead to provide just sufficient background to be aware of these concepts: their meaning and relevance to LuaTeX.</p>

<h3>Application Programming Interface (API)</h3>
<p>Imagine you are a programmer who has written some code that users (other programmers) might find useful, but your code is complex and you don’t want users of your code having to worry about those low-level details. Note that those programmers/developers are working with the same programming language that you used to write your code. Furthermore, suppose you have plans to re-write some parts of your code—e.g., to make it faster, require less memory and so forth. Existing users of your code shouldn’t need to worry about that: any changes you plan to make should not break their programs. So, what is the solution?</p> 

<p>The answer lies in something called an API: an <em>Application Programming Interface</em>. Rather than require users (other programmers) to access the low-level details of your code—which might change—you provide a specific set of <em>functions</em> that other programmers can use. Those functions are an <em>interface</em> to your code, through which other developers can build <em>applications</em> without needing an intimate knowledge of your program’s inner workings. In some ways you can think of this as an additional layer which surrounds your code and “insulates” users from the messy, low-level details.</p> 

<p>Provided you don’t change those functions (the interface) you are free to modify and update the lower-level details of your software without affecting (breaking) the work of those who are relying on your code to build their applications: hence the term Application Programming Interface.</p>

<h4>APIs: A LaTeX package analogy</h4>
<p>When you use commands provided by a LaTeX package you can think of the package’s  commands as a form of API. As a user you are not necessarily concerned with the TeX and LaTeX wizardry behind those commands (i.e., in the package’s code): all you want is to make use of the functionality they provide.</p>

<h3>Programming language binding</h3>
<p>We’ve seen that programmers who write/publish a body of useful code (called a <em>library</em>) can provide a so-called Application Programming Interface (a set of functions) through which other programmers, using the <em>same</em> programming language, can make use of that library (collection of code). This is fine when both sides (library developer and its users) use the <em>same</em> programming language, but what happens if programmers using a <em>different</em> programming language also want to make use of that library? For example, you might write scripts using the Lua language but want to make use of a library written in, for example, programming languages such as C/C++. Somehow, the two different programming languages (Lua and C/C++) need the ability to “communicate” with each other. One solution to this problem is so-called <em><a href="https://en.wikipedia.org/wiki/Language_binding">language binding</a></em>.</p>

<p>Examining the technical details of language binding is outside the scope of this article so we’ll give a concise summary of the general principles. In essence, by adding a suitable additional “layer” of code to the original library it can “communicate” with another programing language (such as Lua): that layer of code is called a <em>binding</em>. It enables the two languages to interoperate via an API via which programmers in the second language (such as Lua) can use to access the features/services provided by the library.</p> 

<img src="https://www.filepicker.io/api/file/s0UCGxBkQMe1XNFApyC4" alt="Schematic diagram to show the concept of a language binding.">
<p><strong>Figure 1</strong>: Schematic diagram to show the concept of a language binding: enabling a program written in Lua to use an external library written in another programming language.</p>

<p>It is through the use of Lua bindings that the internal components of LuaTeX, and thus much of LuaTeX’s internal typesetting functionality, is made available for users to develop solutions to complex typesetting problems.</p> 

<h2>LuaTeX: Two options for programming—TeX and Lua</h2>
<p>Essentially, LuaTeX is a TeX engine that supports two programming languages: the traditional TeX-based language and the Lua scripting language. Of course, you can use both languages in the same TeX document or, should you prefer, continue to typeset through the TeX-only route: for example, via the LaTeX (LuaLaTeX) macro package. TeX (or LaTeX) is not an easy programming language to use or learn, and relatively few people have truly mastered TeX’s many idiosyncrasies—TeX’s concepts of <a href="https://www.overleaf.com/blog/522-what-is-a-tex-token">tokens</a> and expansion are quite alien to the majority of people’s expectations and experiences of a programming language.</p> 

<p>The addition of Lua opens up the ability to use TeX-based typesetting via a much more accessible and conventional programming language—as noted near the start of this article, by using the Lua API you can perform <a href="http://wiki.luatex.org/index.php/TeX_without_TeX">sophisticated typesetting with virtually no TeX code</a>.</p>

<h3>LuaTeX adds many new primitives</h3>
<p>Every TeX engine provides hundreds of so-called primitive commands: the fundamental building blocks of the TeX-based language supported by each individual typesetting engine. The original version of TeX released by Donald Knuth provided approximately 320 commands but newer TeX engines (pdfTeX, XeTeX and LuaTeX) have each added many new primitives to provide users with access to each engine’s additional features and functionality. LuaTeX’s considerable number of new primitives are documented in its <a href="https://www.tug.org/svn/texlive/tags/texlive-2017.1/Master/texmf-dist/doc/luatex/base/luatex.pdf?revision=44591&view=co">Reference Manual</a>.</p>

<p>Among the many new primitives introduced by LuaTeX is once called <code>\directlua{...}</code> which is the gateway to using Lua code: accessing the internals of the LuaTeX engine to build sophisticated typesetting tools and solutions.</p>

<h3><code>\directlua{...}</code>: The gateway to Lua programming</h3>
<p>As discussed, the Lua scripting language can be viewed as providing a “layer” through which it is possible to gain access to LuaTeX’s TeX-based typesetting engine and the functionality provided by many of the components from which LuaTeX is constructed. The Lua language is also the mechanism which enables LuaTeX’s extensibility—through Lua’s ability to load specialist external libraries of software/code.</p> 

<p>Collectively, the Lua interface (set of Lua-based functions) provided by LuaTeX is referred to as its <em>Lua API</em>: it is the “communications link” between LuaTeX’s internal engine/components and the user’s document.</p>

<h3>A simple example of <code>\directlua{...}</code></h3>
<p>The following <em>extremely simple</em> example does not even begin to scratch the surface of the tip of the iceberg of possibilities. However, it serves to demonstrate the basic idea of the interplay between the “TeX way” and the “Lua way” of accessing TeX’s parameters.</p> 

<p>Note that:</p>
<ul class="text-list">
<li><code>\hsize</code> is a TeX primitive (command) which sets the value of an internal parameter that determines the width of typeset lines—for example, you usually set it to a suitable value within a <code>\vbox{...}</code>. <code>\hsize</code> is just one of <em>many</em> TeX parameters that you can access and/or modify by Lua code.
</li>
<li>Accessing TeX parameters is just one <em>tiny</em> aspect of LuaTeX’s Lua API: there is so much more!</li> 
</ul>
<pre>
\documentclass{article}
\begin{document}
\let\\\relax %redefine meaning of \\ to avoid expansion problems
Here is the current value of {\ttfamily\string\hsize} (via \LaTeX):
\the\hsize\par
\directlua{
%Get the current value of \hsize using the Lua API
local hs=tex.hsize 
% Use a Lua API function to print some 
% LaTeX code and the value of \hsize
tex.print("Here is the value of {\\ttfamily\\string\\hsize} 
reported from Lua code (in scaled points): ")
tex.print(hs.."\\par")
% Set a new value for \hsize using the Lua aPI
tex.hsize="400pt" % or use tex.hsize=400*65536 (in scaled points)
}%
% After \directlua has finished, ask LaTeX 
% to tell us the new value of \hsize
Here is the value of {\ttfamily\string\hsize} reported 
by \LaTeX{} after {\tt\string\directlua} has finished:
\the\hsize\par
\end{document}
</pre>

<p>If you want to run the code, here is a <a href="https://www.sharelatex.com/project/59edbe9c2468c01c5c337479">ShareLaTeX project</a> where you can view the results. Note that the TeX “trickery” of <code>\let\\\relax</code> is to avoid problems caused by LuaTeX’s “expansion” of the Lua code: a topic we briefly note below.</p> 

<h3>Using Lua code</h3>
<p>There are two main options for using Lua code in your TeX/LaTeX documents:</p>

<ol class="text-list">
    <li><strong>Inline</strong>: Writing Lua code directly within your <code>.tex</code> document (as in the example above);</li>
<li><strong>External</strong>: Storing Lua code in external <code>.lua</code> code files and using Lua’s facilities to load and run them.</li>
</ol>

<p>Option (1) is most suited to shorter fragments of Lua code. Option (2) is used for larger programs or libraries of Lua code. It has a distinct advantage that you can avoid tricky issues involving TeX’s so-called <code>\catcode</code> values (which can be “rather frustrating”). The reason for these <code>\catcode</code> issues is the “expansion” of Lua code prior to being fed into LuaTeX’s built-in Lua interpreter. This expansion can be tricky to understand so we’ll explore in further in a subsequent article.</p>

<p>Of course there are LaTeX packages to assist with using Lua code in your .tex files—for example, you can use the <a href="https://ctan.org/pkg/luacode?lang=en"><code>luacode</code></a> package.</p>

<h2>Summary and introducing Part 2 of this article</h2>
<p>The software components from which LuaTeX is constructed, together with the embedded Lua scripting language, provide a powerful combination for building solutions capable of solving a wide range of complex typesetting problems—and engineering document-production workflows which can benefit from close integration with a TeX-based typesetting engine. In Part 2 of this article we’ll take a closer look at the components from which LuaTeX is built, the functionality they provide and explore LuaTeX’s features/capabilities through numerous examples using <code>\directlua{...}</code>.</p> 

<p>Until then, Happy LuaTeXing!</p>

<h2>Acknowledgements</h2>
<p>The author is extremely grateful to <a href="https://twitter.com/luigi_scarso">Luigi Scarso</a>, one of LuaTeX’s developers, for taking time to read a draft of this article and making a number of very helpful comments and suggestions. Any remaining errors of fact, or omission, are, of course, the author’s.</p>

<p>In addition, I would like to thank <a href="https://twitter.com/patrickgundlach">Patrick Gundlach</a>, developer of <a href="https://speedata.github.io/publisher/">speedata publisher</a>, for his time to answer my questions.</p>



                </div>
                  <div id="author_box" class="people">
                      <div class="row bio_row">
  <div class="bio_box">
    <img alt="Graham Douglas" src="https://www.filepicker.io/api/file/dd5uqV1QNS8mLeCD12iu" />
    <div class="info">
      <p class="name">
          Graham Douglas
      </p>
      <p class="area">Content Development Editor</p>
      <p class="descript">I&#39;ve worked in scientific/technical publishing for over 20 years (Senior Publisher, book/journal production, and programming). Now relishing the opportunity to combine my interests in publishing and TeXnology. I work from home, ably assisted by our two delightfully inquisitive Bengal cats: Oscar and Alfie.</p>
      <div class="social">
        <div class="col-md-12 social-icons">
              <a href="https://twitter.com/publishergeek"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
      <g>
        <path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z"/>
      </g>
    </svg>
  </div>
</div>
</a>
              <a href="https://www.linkedin.com/in/grahammdouglas/"><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
      <g>
        <path d="M6.527,21.5h-5v-13h5V21.5z M4.018,6.5H3.988C2.478,6.5,1.5,5.318,1.5,4.019c0-1.329,1.008-2.412,2.547-2.412 c1.541,0,2.488,1.118,2.519,2.447C6.565,5.354,5.588,6.5,4.018,6.5z M15.527,12.5c-1.105,0-2,0.896-2,2v7h-5c0,0,0.059-12,0-13h5 v1.485c0,0,1.548-1.443,3.938-1.443c2.962,0,5.062,2.144,5.062,6.304V21.5h-5v-7C17.527,13.396,16.632,12.5,15.527,12.5z"/>
      </g>
    </svg>
  </div>
</div>
</a>
              <a href="http://www.readytext.co.uk/"><div class="resp-sharing-button resp-sharing-button--web resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
      <g>
        <path d="M500,10C229.4,10,10,229.4,10,500c0,270.6,219.4,490,490,490c270.6,0,490-219.4,490-490C990,229.4,770.6,10,500,10z M199.7,199.7L199.7,199.7c34.4-34.3,73.7-62.2,117.1-83c-31.5,42-57.9,94.6-76.9,154.6H142C158.5,245.6,177.8,221.6,199.7,199.7z M107.8,336.7h114.9c-8.8,41.3-14.3,85.1-16.1,130.7h-130C79.9,422.2,90.5,378.4,107.8,336.7z M76.6,532.7h130c1.8,45.5,7.3,89.4,16.1,130.7H107.8C90.4,621.6,79.9,577.8,76.6,532.7z M199.7,800.2c-21.9-21.9-41.2-45.9-57.7-71.6h97.9c19,60,45.3,112.5,76.9,154.6C273.3,862.4,234,834.6,199.7,800.2z M467.3,919.8c-14.9-4.3-29.7-11.6-44.1-21.8c-27.1-19.1-53.1-48.6-75.1-85.2c-15.2-25.3-28.3-53.5-39.3-84.2h158.5V919.8z M467.3,663.3H289.6c-9.8-41.8-15.7-85.6-17.6-130.7h195.3V663.3z M467.3,467.3H272c1.9-45.1,7.8-88.8,17.6-130.7h177.6V467.3z M467.3,271.4H308.8c11-30.7,24.1-58.8,39.3-84.2c22-36.7,48-66.1,75.1-85.2c14.5-10.2,29.2-17.5,44.1-21.8V271.4z M532.6,80.2c14.9,4.3,29.7,11.6,44.1,21.8c27.1,19.1,53.1,48.6,75.1,85.2c15.2,25.3,28.3,53.5,39.3,84.2H532.6V80.2z M532.6,336.7h177.6c9.8,41.8,15.7,85.6,17.6,130.7H532.6V336.7z M532.6,532.7h195.3c-1.9,45.1-7.8,88.8-17.6,130.7H532.6V532.7z M576.8,898c-14.5,10.2-29.2,17.5-44.1,21.8l-0.1-191.2h158.5c-11,30.7-24.1,58.9-39.2,84.2C629.9,849.5,603.9,879,576.8,898z M800.3,800.2c-34.4,34.4-73.7,62.2-117.1,83c31.6-42,57.9-94.6,76.9-154.6H858C841.5,754.4,822.2,778.4,800.3,800.2z M892.1,663.3H777.2c8.8-41.3,14.3-85.1,16.1-130.7h130C920,577.8,909.5,621.6,892.1,663.3z M923.4,467.3h-130c-1.8-45.5-7.3-89.4-16.1-130.7h114.9C909.5,378.4,920,422.2,923.4,467.3z M760.1,271.4c-19-60-45.3-112.6-76.9-154.6c43.4,20.8,82.8,48.6,117.1,83c21.9,21.9,41.2,45.9,57.7,71.6H760.1z"></path>
      </g>
    </svg>
  </div>
</div>
</a>
            <a class="resp-sharing-button__link" href="mailto:graham.douglas@overleaf.com" target="_blank">
              <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
      <path d="M22,4H2C0.897,4,0,4.897,0,6v12c0,1.103,0.897,2,2,2h20c1.103,0,2-0.897,2-2V6C24,4.897,23.103,4,22,4z M7.248,14.434 l-3.5,2C3.67,16.479,3.584,16.5,3.5,16.5c-0.174,0-0.342-0.09-0.435-0.252c-0.137-0.239-0.054-0.545,0.186-0.682l3.5-2 c0.24-0.137,0.545-0.054,0.682,0.186C7.571,13.992,7.488,14.297,7.248,14.434z M12,14.5c-0.094,0-0.189-0.026-0.271-0.08l-8.5-5.5 C2.997,8.77,2.93,8.46,3.081,8.229c0.15-0.23,0.459-0.298,0.691-0.147L12,13.405l8.229-5.324c0.232-0.15,0.542-0.084,0.691,0.147 c0.15,0.232,0.083,0.542-0.148,0.691l-8.5,5.5C12.189,14.474,12.095,14.5,12,14.5z M20.934,16.248 C20.842,16.41,20.673,16.5,20.5,16.5c-0.084,0-0.169-0.021-0.248-0.065l-3.5-2c-0.24-0.137-0.323-0.442-0.186-0.682 s0.443-0.322,0.682-0.186l3.5,2C20.988,15.703,21.071,16.009,20.934,16.248z"/>
    </svg>
  </div>
</div>

            </a>
        </div>
      </div>
    </div>
  </div>
</div>

                  </div>
                <div id="blog_footer">
                      <p><em>If you'd like to feature on our blog please <a href="/contact">get in touch</a>, and if you've enjoyed reading please share this post</em></p>
                        <div id="share">
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style addthis_32x32_style addthis_floating_style overbox overbox-small sharebox">
      <a class="addthis_button_facebook" addthis:url="https://www.overleaf.com/blog/571-an-introduction-to-luatex-part-1-what-is-it-and-what-makes-it-so-different"></a>
      <a class="addthis_button_twitter" tw:via="overleaf" addthis:url="https://www.overleaf.com/blog/571-an-introduction-to-luatex-part-1-what-is-it-and-what-makes-it-so-different"></a>
      <a class="addthis_button_linkedin" addthis:url="https://www.overleaf.com/blog/571-an-introduction-to-luatex-part-1-what-is-it-and-what-makes-it-so-different"></a>
      <a class="addthis_button_google_plusone_share" addthis:url="https://www.overleaf.com/blog/571-an-introduction-to-luatex-part-1-what-is-it-and-what-makes-it-so-different"></a>
    </div>
    <script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-527a02b8529909ad" async></script>
    <!-- AddThis Button END -->
  </div>

                </div>
                <div id="back-to-blog">
                  <a href="/blog">More news from Overleaf</a>
                </div>
            </div>
              <div class="col-sm-4">
  <div class="overbox sidebar">
      <div class='box no-border indent'>
  <div class="header">
    <h4>Be the first to know! Subscribe to our blog</h4>
  </div>
  <form target="_blank" novalidate="novalidate" action="//overleaf.us11.list-manage.com/subscribe/post?u=cb492c3cf501e9910fdcb160c&amp;amp;id=352a2e9e38" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="+0nj0e+8RFaeyLfk0c6R23ioQEzqka1oVf0cmwYmCJbX3DeDTxE5eKKzRSHyHrmLSqcsE07PVvpxDwVui9oUYA==" />
    <div class="form-group">
      <label for="EMAIL">Email Address</label>
      <input type="text" name="EMAIL" id="EMAIL" placeholder="foo@bar.com" class="form-control" />
    </div>
    <div style="position: absolute; left: -5000px;" aria-hidden="true">
      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <input type="text" name="b_cb492c3cf501e9910fdcb160c_352a2e9e38" id="b_cb492c3cf501e9910fdcb160c_352a2e9e38" tabindex="-1" />
    </div>
    <input type="submit" name="commit" value="Subscribe" data-disable-with="Subscribe" />
</form></div>

          <div class="box no-border indent tag-sidebox">
  <div class="header">
    <h4>Related Tags</h4>
  </div>
  <ul class="menu tags">
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/digital%20publishing">digital publishing</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/typesetting">typesetting</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/lua">lua</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/luatex">luatex</a>
      </li>
  </ul>
</div>

        <div class="box no-border indent tag-sidebox">
  <div class="header">
    <h4>Popular Tags</h4>
  </div>
  <ul class="menu tags">
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/publishers">publishers</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/events">events</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/latex">latex</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/tech">tech</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/press">press</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/guides">guides</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/institutions">institutions</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/features">features</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/case%20studies">case studies</a>
      </li>
      <li>
        <a class="has-tooltip" data-original-title="See all items with this tag." href="/blog/tagged/author%20interviews">author interviews</a>
      </li>
  </ul>
</div>

      <div class="box no-border">
        <div class="start">
    <p>Start writing now!</p>
    <a href="/docs?template=paper">Create a new paper</a>
    <p class="medium">
    	Overleaf is <strong>free</strong><br />
    	No sign-up required
    </p>
    <p class="small">
    New to LaTeX?<br/><a href="/latex/templates">Start with a template</a>
    </p>
</div>

      </div>
      <div class="box no-border indent">
    <div class="header">
        <h4>Company</h4>
    </div>

    <ul class="menu">
      <li><a href="/about" style="text-decoration:none;">About us</a></li>
      <li><a href="/contact" style="text-decoration:none;">Contact us</a></li>
      <li><a href="/partners" style="text-decoration:none;">Partners</a></li>
      <li><a href="/advisors" style="text-decoration:none;">Advisors</a></li>
      <li><a href="/press" style="text-decoration:none;">Press</a></li>
      <li><a href="/blog" style="text-decoration:none;">Blog</a></li>
    </ul>
</div>

      <div class="box no-border">
        <div id="gplus-container">
          <div class="g-page" data-width="180" data-href="https://plus.google.com/107817414043832561351"
               data-layout="portrait" data-showtagline="false" data-theme="dark"
               data-showcoverphoto="false" data-rel="publisher"></div>
        </div>
      </div>
      <div class="box no-border indent">
  <div class="header">
      <h4>Community</h4>
  </div>

  <ul class="menu">
    <li><a href="/space">Referrals</a></li>
    <li><a href="https://twitter.com/overleaf" class="social-bg social-bg-twitter">Twitter</a></li>
    <li><a href="https://www.facebook.com/overleaf.editor" class="social-bg social-bg-facebook">Facebook</a></li>
    <li><a href="https://plus.google.com/107817414043832561351" rel="publisher" class="social-bg social-bg-gplus">Google+</a></li>
    <li><a href="/devs">Developers</a></li>
  </ul>
</div>

      <div class="box last">
        <div class="fb-like-box" data-href="https://www.facebook.com/overleaf.editor"
             data-width="243" data-show-faces="true" data-colorscheme="light"
             data-stream="false" data-header="false"></div>
      </div>
  </div>
</div>


        </div>
    </div>
</div>
</div>


      <footer id="footer" class="">
  <div class="container">
    <div class="row sections">
      <div class="col-sm-4 recent_posts">
        <h3 class="footer_header">
          Latest News
        </h3>
            <div class="post">
              <div class="date"><time datetime="2017-10-31">October 31, 2017</time></div>
              <a class="title" href="/blog/575-integration-update-auto-compiling-in-sharelatex">Integration Update: Auto-compiling in ShareLaTeX</a>
            </div>
            <div class="post">
              <div class="date"><time datetime="2017-10-30">October 30, 2017</time></div>
              <a class="title" href="/blog/574-new-from-overleaf-the-latex-validation-service">New From Overleaf—The LaTeX Validation Service</a>
            </div>
      </div>
      <div class="col-sm-8 links-cols">
        <div class="col-sm-4 info">
          <h3 class="footer_header">
            Overleaf
          </h3>
          <ul>
            <li><a href="/tutorial">Getting Started</a></li>
            <li><a href="/templates">Templates &amp; Gallery</a></li>
            <li><a href="/mobile">iPad &amp; Tablet</a></li>
            <li><a href="/plans">Plans &amp; Pricing</a></li>
            <li><a href="/space">Referrals</a></li>
            <li><a href="/teams">Teams</a></li>
          </ul>
        </div>
        <div class="col-sm-4 info">
          <h3 class="footer_header">
            Support
          </h3>
          <ul>
            <li><a href="/help">Help &amp; FAQs</a></li>
            <li><a href="/legal">Privacy &amp; Terms</a></li>
            <li><a href="/legal#Security">Security Overview</a></li>
            <li><a href="/devs">Developers</a></li>
          </ul>
        </div>
        <div class="col-sm-4 info">
          <h3 class="footer_header">
            Company
          </h3>
          <ul>
            <li><a href="/about">About us</a></li>
            <li><a class="contact-link" href="/contact">Contact us</a></li>
            <li><a href="/partners">Partners</a></li>
            <li><a href="/advisors">Advisors</a></li>
            <li><a href="/press">Press</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="/jobs">Jobs</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="row credits">
      <div class="col-md-12">
        <div class="row social">
          <div class="col-md-12 social-icons">
            <a class="resp-sharing-button__link" href="https://www.facebook.com/overleaf.editor" target="_blank">
              <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
      <g>
        <path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z"/>
      </g>
    </svg>
  </div>
</div>

            </a>
            <a class="resp-sharing-button__link" href="https://twitter.com/overleaf" target="_blank">
              <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
      <g>
        <path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z"/>
      </g>
    </svg>
  </div>
</div>

            </a>
            <a class="resp-sharing-button__link" href="https://plus.google.com/+WritelatexOnline" target="_blank">
              <div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
      <g>
        <path d="M11.366,12.928c-0.729-0.516-1.393-1.273-1.404-1.505c0-0.425,0.038-0.627,0.988-1.368 c1.229-0.962,1.906-2.228,1.906-3.564c0-1.212-0.37-2.289-1.001-3.044h0.488c0.102,0,0.2-0.033,0.282-0.091l1.364-0.989 c0.169-0.121,0.24-0.338,0.176-0.536C14.102,1.635,13.918,1.5,13.709,1.5H7.608c-0.667,0-1.345,0.118-2.011,0.347 c-2.225,0.766-3.778,2.66-3.778,4.605c0,2.755,2.134,4.845,4.987,4.91c-0.056,0.22-0.084,0.434-0.084,0.645 c0,0.425,0.108,0.827,0.33,1.216c-0.026,0-0.051,0-0.079,0c-2.72,0-5.175,1.334-6.107,3.32C0.623,17.06,0.5,17.582,0.5,18.098 c0,0.501,0.129,0.984,0.382,1.438c0.585,1.046,1.843,1.861,3.544,2.289c0.877,0.223,1.82,0.335,2.8,0.335 c0.88,0,1.718-0.114,2.494-0.338c2.419-0.702,3.981-2.482,3.981-4.538C13.701,15.312,13.068,14.132,11.366,12.928z M3.66,17.443 c0-1.435,1.823-2.693,3.899-2.693h0.057c0.451,0.005,0.892,0.072,1.309,0.2c0.142,0.098,0.28,0.192,0.412,0.282 c0.962,0.656,1.597,1.088,1.774,1.783c0.041,0.175,0.063,0.35,0.063,0.519c0,1.787-1.333,2.693-3.961,2.693 C5.221,20.225,3.66,19.002,3.66,17.443z M5.551,3.89c0.324-0.371,0.75-0.566,1.227-0.566l0.055,0 c1.349,0.041,2.639,1.543,2.876,3.349c0.133,1.013-0.092,1.964-0.601,2.544C8.782,9.589,8.363,9.783,7.866,9.783H7.865H7.844 c-1.321-0.04-2.639-1.6-2.875-3.405C4.836,5.37,5.049,4.462,5.551,3.89z"/>
        <polygon points="23.5,9.5 20.5,9.5 20.5,6.5 18.5,6.5 18.5,9.5 15.5,9.5 15.5,11.5 18.5,11.5 18.5,14.5 20.5,14.5 20.5,11.5  23.5,11.5 	"/>
      </g>
    </svg>
  </div>
</div>

            </a>
            <a class="resp-sharing-button__link" href="https://www.linkedin.com/company/writelatex-limited" target="_blank">
              <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small">
  <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
      <g>
        <path d="M6.527,21.5h-5v-13h5V21.5z M4.018,6.5H3.988C2.478,6.5,1.5,5.318,1.5,4.019c0-1.329,1.008-2.412,2.547-2.412 c1.541,0,2.488,1.118,2.519,2.447C6.565,5.354,5.588,6.5,4.018,6.5z M15.527,12.5c-1.105,0-2,0.896-2,2v7h-5c0,0,0.059-12,0-13h5 v1.485c0,0,1.548-1.443,3.938-1.443c2.962,0,5.062,2.144,5.062,6.304V21.5h-5v-7C17.527,13.396,16.632,12.5,15.527,12.5z"/>
      </g>
    </svg>
  </div>
</div>

            </a>
          </div>
        </div>
        <div class="row copyright">
          <div class="col-md-12">
          <div class="address">Writelatex Limited, 3rd Floor, 207 Regent Street, London, W1B 3HH, UK</div>
            <div>Copyright © 2017. All rights reserved.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

      <script>
//<![CDATA[

$(document).ready(function() {
  WL.updateTotalShares("https://www.overleaf.com/blog/571-an-introduction-to-luatex-part-1-what-is-it-and-what-makes-it-so-different",
    function() { $("#sharedcount div").fadeIn(); });
});

//]]>
</script>  <div id="fb-root"></div>
<script>
$(document).ready(function() {
  $.cachedScript('//connect.facebook.net/en_US/all.js').done(function(){
    window.fbAsyncInit = function() {
      FB.init({appId: '400474170024644', xfbml: true});
    };
  });
});
</script>

  <script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML,Safe"></script>


  </body>
</html>
