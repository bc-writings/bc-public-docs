% Source : http://tex.stackexchange.com/questions/37555/environment-with-breakable-text

\documentclass{article}
	\usepackage{adjustbox}
	\usepackage{color}

	\makeatletter
		\newsavebox{\breakableTextEnvBox}
		\newenvironment{breakableTextEnv}{%
			\begin{lrbox}{\breakableTextEnvBox}\ttfamily\minipage{8.5em}
			\catcode`\#=12 \obeyspaces \obeylines
			\begingroup\lccode`~=` \lowercase{\endgroup\def~}{\unskip\space}%
			\begingroup\lccode`~=` \lowercase{\endgroup\let\brt@space~}%
			\begingroup\lccode`~=`\^^M \lowercase{\endgroup\def~}{\ifvmode\else\endgraf\fi}%
			\breakabletexttt@i%
		}{%
			\vspace{-\baselineskip}\endminipage\end{lrbox}\fbox{\usebox\breakableTextEnvBox}%
		}

		\long\def\breakabletexttt@i#1{%
			\ifx#1\end
				\expandafter\breakabletexttt@ii
			\else
				\ifx#1\brt@space
					\unskip\space
				\else
					#1\hskip\z@ plus.2em
				\fi
				\expandafter\breakabletexttt@i
			\fi%
		}

		\def\breakabletexttt@ii#1{%
			\end{#1}%
			\def\temp@{#1}\def\temp@@{breakableTextEnv}%
			\ifx\temp@\temp@@\else
				\expandafter\breakabletexttt@i
			\fi%
		}

% To test compatibilty with the similar inline command.
		\newcommand\breakabletexttt{%
			\begingroup
				\catcode`\#=12
				\@breakabletexttt
		}
		\newcommand\@breakabletexttt[1]{%
				\ttfamily
				\breakable@texttt#1\@nil%
			\endgroup%
		}
		\def\@gobble@fi#1\fi{\fi#1}
		\def\breakable@texttt#1#2\@nil{%
			#1\hspace{0pt plus 0.1pt minus 0.1pt}%
			\ifx\relax#2\relax
			\else
				\@gobble@fi\breakable@texttt#2\@nil
			\fi
		}
	\makeatother


\begin{document}

\section*{One environment with breakable text}

\begin{breakableTextEnv}
12345678901 \textbf{23}4567890123456789
ggg

12345678901234567890123456789
\end{breakableTextEnv}


\section*{Compatibilty with the similar inline command}

\breakabletexttt{ %
	123456789012345678901234567891234567890123456789012345678912345678901234567890123456789123456789012345678901234567891234567890123456789012345678912345678901234567890123456789123456789012345678901234567891234567890123456789012345678912345678901234567890123456789123456789012345678901234567891234567890123456789012345678912345678901234567890123456789%
}

\end{document}
