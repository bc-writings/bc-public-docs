% Sources :
%	1) https://groups.google.com/forum/?hl=fr&fromgroups#!topic/fr.comp.text.tex/YEiInWViu9s
%	2) http://www.les-mathematiques.net/phorum/read.php?10,471970

\documentclass{article}
	\usepackage{xcolor}
	\usepackage{xargs}

	\makeatletter
		\newbox\verb@box
		\renewcommand\verb{%
			\@ifstar{%
				\let\next@verb\relax\verb@i%
			}{%
				\def\next@verb{\@vobeyspaces\frenchspacing}\verb@i%
			}%
		}

		\newcommandx\verb@i[3][%
			1=black,%
			2=lightgray,%
			3={}%
		]{%
			\edef\txt@color{#1}%
			\edef\bck@color{#2}%
			\ifx\relax#3\relax
				\edef\bord@color{#2}%
			\else
				\edef\bord@color{#3}%
			\fi
			\setbox\verb@box\hbox\bgroup
			\let\do\@makeother\dospecials
			\verbatim@font\@noligs
			\next@verb
			\verb@ii
		}

		\def\verb@ii#1{%
			\catcode`#113 \lccode`\~`#1\relax
			\lowercase{%
				\def~{%
					\egroup
					\fcolorbox{\bord@color}{\bck@color}{%
						\vphantom{l}\vphantom{g}\color{\txt@color}\box\verb@box%
					}%
				}%
			}%
		}
	\makeatother


\begin{document}

Bla, \verb+exemple \# ^_ {+, bla...

Bla, \verb[red][green!20]|exemple exemple|, bla...

Bla, \verb[blue][green!20][red]|exemple exemple|, bla...

\fboxsep=0.5pt
Bla, \verb*[black][red!35]-exemple # ^ _ exemple-, bla...

\fboxsep=0pt
Bla, \verb+exemple \# ^_ {+, bla...

Bla, \verb*[black][red!35]-exemple # ^ _ exemple-, bla...

\end{document}
