% Source : http://forum.mathematex.net/latex-f6/tables-partielles-avec-titletoc-encore-un-detail-a-regler-t13189.html#p127102

\documentclass[french,a4paper]{book}
	\usepackage[utf8]{inputenc}
	\usepackage[T1]{fontenc}
	\usepackage{lmodern}
	\usepackage[frenchb]{babel}

	\usepackage{geometry}

	\usepackage[newparttoc]{titlesec}
	\usepackage[rightlabels]{titletoc}

	\dottedcontents{section}[2.4em]
		{\bfseries}{2.4em}{1pc}
	\titlecontents*{subsection} %
		[2.4em]{}{\thecontentslabel~\textit}
		{}{, \thecontentspage}[\,; ][.]
	\dottedcontents{s-section} %
		[2em]{\bfseries}{2em}{1pc}

	\def\afterchapter{}% vide pour la table des matières
	\titleformat{\chapter}[frame]
		{\normalfont}
		{\footnotesize \enspace \textbf{Chapitre \arabic{chapter}} \enspace}
		{6pt}
		{\LARGE\bfseries\filcenter}
		[\afterchapter]
	\titlespacing*{\chapter}
		{0pc}% espace à gauche
		{*4}
		{*2.3}
		[0pc]% espace à droite

	\def\afterchapter{%
		\startcontents[chapt]
			\begin{flushleft}\bfseries\large
				Sommaire
			\end{flushleft}
			\titlerule[1pt]
			\medskip
			\printcontents[chapt]{s-}{2}{}
			\medskip
			\titlerule[1pt]
			\bigskip
	}


\begin{document}

\tableofcontents

\chapter{title}

Bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla 
bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla 
bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla 
bla bla bla bla bla bla bla bla bla bla bla bla bla bla.

	\section{titre}

Bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla 
bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla 
bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla 
bla bla bla bla bla bla bla bla bla bla bla bla bla bla.

		\subsection{title}
		\subsection{title}
		\subsection{title}

	\section{la suite}

\chapter{title}

	\section{title}

		\subsection{title}
		\subsection{title}

On continue...

\end{document}
