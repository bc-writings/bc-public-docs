% Source : http://tex.stackexchange.com/questions/37545/frame-environment-with-fixed-size-given-by-numbers-of-characters-and-lines

\documentclass{article}
	\usepackage{adjustbox}

% For tests
	\usepackage{comment}

	\makeatletter
		\catcode`\$=\active
		\newenvironment{calculator}{%
			\ttfamily
			\let\(\calculator@error
			\let\[\calculator@error
			\let\array\calculator@error
			% etc.
			\catcode`\$=\active
			\let$\calculator@error
			\begin{lrbox}{\@tempboxa}%
			\minipage[b]{8em}%
		}{%
			\endminipage
			\end{lrbox}%
			\par\smallskip
			% Measure height and clip if required
			\ifdim\ht\@tempboxa>8\baselineskip
				\PackageWarning{calculator}{%
					calculator environment to long%
				}%
				% clip to only show the 8 last lines:
				\fbox{\clipbox*{0pt {\depth} {\width} 7.5\baselineskip}{%
					\usebox\@tempboxa
				}}%
			\else
				\fbox{\usebox\@tempboxa}%
			\fi
			\smallskip
		}
		\catcode`\$=3

		\newcommand{\calculator@error}{%
			\PackageError{calculator}{%
				No math is allowed inside calculator environment%
			}{}%
		}
	\makeatother


\begin{document}

\section*{8 lines}

\begin{calculator}
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
\end{calculator}


\section*{9 lines (for warning)}

\begin{calculator}
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 3 5 7 9 B D F
\end{calculator}


\begin{comment}

\section*{Math (for error)}

\begin{calculator}
 1 3 5 7 9 B D F
 .2 4 6 8 A C E
 1 \(a+b\) B D F
 .2 4 6 8 A C E
 1 $a+b$  B D F
 .2 4 6 8 A C E
 1 \[i+b\] B D F
 .2 4 6 8 A C E
\end{calculator}

\end{comment}

\end{document}
