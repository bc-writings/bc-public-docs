% Source : http://forum.mathematex.net/latex-f6/realisation-d-un-document-type-pour-taper-ses-cours-t13221-40.html#p132764

    \documentclass[a4paper]{book}

    \usepackage[francais]{babel}
    \usepackage[newparttoc]{titlesec}
    \usepackage{titletoc}

    \usepackage[margin=2.5cm]{geometry}
    \usepackage{graphicx}

    \usepackage{lipsum}% pour du texte bidon

    \usepackage{makeidx}
    \makeindex

    \usepackage{hyperref}
    \hypersetup{pdfstartview=XYZ}

    \makeatletter
    \@addtoreset{chapter}{part}
    \@addtoreset{section}{part}
    \makeatother

    \newcounter{savedsecnumdepth}

    \newcount\subsubparttocactive
    \newcount\subparttocactive

    \frenchbsetup{PartNameFull=false}

    \titleclass{\part}{page}
    \titleformat{\part}[display]
      {\centering\normalfont\huge\bfseries}
      {\normalfont\bfseries\partname\ \thepart}
      {20pt}
      {\Huge}
      [\alwaysafterpart\afterpart]

    \newcommand{\alwaysafterpart}{%
      \capturesubpartname{}%
    %  \capturesubsubpartname{}%
      \renewcommand{\formatlsubpart}{\textbf}%
      \ifnum\subsubparttocactive=1 \stopcontents[subsubpart]\else\fi
      \global\subsubparttocactive=0 %
      \ifnum\subparttocactive=1 \stopcontents[subsubpart]\else\fi
      \global\subparttocactive=0 %
    }
    \newcommand{\afterpart}{}%
    \newif\iffirsttocentry
    \makeatletter
    \newcommand{\partminitoc}{%
      \vspace{1cm}%
      \normalsize\normalfont
      \startcontents[part]
      \begin{flushleft}\bfseries\large
      Sommaire
      \end{flushleft}
      \titlerule[1pt]
      \medskip
      \renewcommand*{\l@chapter}[2]{%
        \ifnum \c@tocdepth >\m@ne
          \addpenalty{-\@highpenalty}%
          \vskip 2pt \@plus\p@
          \setlength\@tempdima{1.5em}%
          \begingroup
            \parindent \z@ \rightskip \@pnumwidth
            \parfillskip -\@pnumwidth
            \leavevmode \normalfont
            \advance\leftskip\@tempdima
            \hskip -\leftskip
            ##1\nobreak\hfil \nobreak\hb@xt@\@pnumwidth{\hss ##2}\par
            \penalty\@highpenalty
          \endgroup
        \fi}
      \firsttocentrytrue
      \printcontents[part]{part-}{0}{\setcounter{tocdepth}{0}\vskip1sp}%
      \firsttocentryfalse
      \medskip
      \titlerule[1pt]
      \bigskip
    }%
    \makeatother

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SUBPARTS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    % \l@subpart utilisé pour \sommaire, \tableofcontents et \partminitoc
    % L'espace au-dessus de \l@subpart sur les \partminitoc est ajusté par le booléen \iffirsttocentry pour que, s'il est en premier, il ne soit pas trop important.

    \newcommand{\thesubpartname}{}
    \newcommand{\capturesubpartname}[1]{\gdef\thesubpartname{#1}}

    \newcounter{subpart}[part]
    \makeatletter
    \@addtoreset{chapter}{subpart}
    \newcommand{\subpart}[1]{%
       \ifnum\subparttocactive=1 \stopcontents[subsubpart]\else\fi
       \global\subparttocactive=0 %
       \cleardoublepage
       \startcontents[subpart]%
       \thispagestyle{plain}%
       \markboth{}{}%
       \vspace*{0pt plus 1fill}%
       \capturesubpartname{#1}%
       \begin{center}\refstepcounter{subpart}\bfseries\huge #1\end{center}%
       \addcontentsline{toc}{subpart}{#1}%
       \vspace*{1cm}%
       \begingroup
       \ifx\partcours\currentpart % minitoc seulement si \cours est actif
       \renewcommand*{\l@subpart}[2]{}%
       \renewcommand*{\l@subsubpart}[2]{%
         \ifnum \c@tocdepth >\m@ne
           \addpenalty{-\@highpenalty}%
           \iffirsttocentry
             \firsttocentryfalse
           \else
             \vskip 1.0em plus 1pt
           \fi
             \firsttocentryfalse
           \setlength\@tempdima{1.5em}%
           \begingroup
             \parindent \z@ \rightskip \@pnumwidth
             \parfillskip -\@pnumwidth
             \leavevmode
             \advance\leftskip\@tempdima
             \hskip -\leftskip
             {\centering\bfseries\subsubpartname~##1\par}
             \penalty\@highpenalty
             \vskip 0.25em plus 1pt %<--- changer l'espacement après ici
           \endgroup
         \fi}
       \renewcommand*{\l@chapter}[2]{%
         \ifnum \c@tocdepth >\m@ne
           \addpenalty{-\@highpenalty}%
           \vskip 2pt \@plus\p@
           \setlength\@tempdima{1.5em}%
           \begingroup
             \parindent \z@ \rightskip \@pnumwidth
             \parfillskip -\@pnumwidth
             \leavevmode \normalfont
             \advance\leftskip\@tempdima
             \hskip -\leftskip
             ##1\nobreak\hfil \nobreak\hb@xt@\@pnumwidth{\hss ##2}\par
             \penalty\@highpenalty
           \endgroup
         \fi
         \firsttocentryfalse}
       \begin{flushleft}\bfseries\large
       Sommaire
       \end{flushleft}
       \titlerule[1pt]
       \medskip
       \firsttocentrytrue
       \printcontents[subpart]{}{0}{\setcounter{tocdepth}{0}}%
       \firsttocentryfalse
       \medskip
       \titlerule[1pt]
       \bigskip
       \fi
       \endgroup
       \vspace*{0pt plus 2fill}%
       \cleardoublepage
    }
    \newcommand*{\l@subpart}[2]{%
      \ifnum \c@tocdepth >\m@ne
        \addpenalty{-\@highpenalty}%
        \iffirsttocentry
          \firsttocentryfalse
        \else
          \vskip 1.0em plus 1pt
        \fi
          \firsttocentryfalse
        \setlength\@tempdima{1.5em}%
        \begingroup
          \parindent \z@ \rightskip \@pnumwidth
          \parfillskip -\@pnumwidth
          \leavevmode
          \advance\leftskip\@tempdima
          \hskip -\leftskip
          \formatlsubpart{#1}\par
          \penalty\@highpenalty
          \vskip 0.25em plus 1pt %<--- changer l'espacement après ici
        \endgroup
      \fi}
    \newcommand{\formatlsubpart}[1]{\centering\bfseries#1}
    \makeatother
    %\titleclass{\subpart}{top}[\part]
    %\titleformat{\subpart}[display]
    %  {\Huge}
    %  {}
    %  {6pt}
    %  {\bfseries\capturesubpartname}
    %\titlespacing*{\subpart}
    %  {0pt}
    %  {3pc}
    %  {3pc}
    %\titlecontents{subpart}
    %  [0em]
    %  {\addvspace{1pc}\centering\bfseries\large}
    %  {}
    %  {}
    %  {}
    %  [\addvspace{2pt}]

    \newcommand{\thesubsubpartname}{}
    \newcommand{\capturesubsubpartname}[1]{\gdef\thesubsubpartname{#1}#1}

    \newcounter{subsubpart}[part]
    \makeatletter
    \@addtoreset{subsubpart}{subpart}% remise à zéro des subsubpart à chaque \part
    \@addtoreset{chapter}{subsubpart}% remise à zéro des chapitres à chaque \subsubpart
    \makeatother
    \renewcommand{\thesubsubpart}{\Roman{subsubpart}}
    \newcommand{\subsubpartname}{Th\`eme}
    \titleclass{\subsubpart}{top}[\part]
    \titleformat{\subsubpart}[display]
      {\Huge}
      {\LARGE\bfseries\subsubpartname\space\Roman{subsubpart}}
      {6pt}
      {\bfseries\capturesubsubpartname}
      [\normalsize\normalfont\aftersubsubpart]
    \makeatletter
    \newcommand{\aftersubsubpart}{%
      \markboth{}{}%
      \global\subsubparttocactive=1 %
      \stopcontents[chapter]
      \startcontents[subsubpart]
      \begin{flushleft}\bfseries\large
      Sommaire
      \end{flushleft}
      \titlerule[1pt]%
      \medskip
      \begingroup
      \renewcommand*\l@chapter{\@dottedtocline{0}{1.5em}{2.3em}}%
      \renewcommand*\l@subpart[2]{}%
      \printcontents[subsubpart]{}{1}{\setcounter{tocdepth}{0}}%
      \endgroup
      \medskip
      \titlerule[1pt]
      \bigskip
    }
    \let\original@subsubpart\subsubpart
    \renewcommand{\subsubpart}{%
      \@ifstar{\subsubpart@star}{\subsubpart@nostar}%
    }
    \newcommand{\subsubpart@star}[1]{%
      \cleardoublepage
      \refstepcounter{subsubpart}
      \addcontentsline{toc}{subsubpart}{#1}%
      \original@subsubpart*{#1}%
    }
    \newcommand{\subsubpart@nostar}{\original@subsubpart}
    \makeatother

    \titlespacing*{\subsubpart}
      {0pt}
      {3pc}
      {3pc}
    \titlecontents{subsubpart}
      [0em]
      {\addvspace{1pc}\centering\bfseries\large}
      {\subsubpartname\hspace*{0.01em}
         \thecontentslabel\hspace*{0.35em}--\hspace*{0.35em}}
      {}
      {}
      [\addvspace{2pt}]

    \DeclareRobustCommand{\redefinetableofcontentspart}{%
      \renewcommand\formattableofcontentspart{\centering\bfseries\LARGE}%
      \renewcommand\nbpagestableofcontentspart{}%
      \renewcommand{\aftervspacetableofcontentspart}{2pc}%
    }
    \DeclareRobustCommand{\restoretableofcontentspart}{%
      \renewcommand\formattableofcontentspart{\bfseries\large}%
      \renewcommand\nbpagestableofcontentspart{\titlerule*[0.75em]{.}\contentspage}%
      \renewcommand{\aftervspacetableofcontentspart}{0pc}%
    }

    \newcommand{\formattableofcontentspart}{\bfseries\large}%
    \newcommand{\nbpagestableofcontentspart}{\titlerule*[0.75em]{.}\contentspage}%
    \newcommand{\aftervspacetableofcontentspart}{0pc}%

    \titlecontents{part}
      [0em]
      {\addvspace{1pc}\formattableofcontentspart}
      {\partname\hspace*{0.01em}
         \thecontentslabel\hspace*{0.35em}--\hspace*{0.35em}}
      {}
      {\nbpagestableofcontentspart}
      [\addvspace{\aftervspacetableofcontentspart}]

    \DeclareRobustCommand{\redefinesommairepart}{%
      \renewcommand\alignsommairepart{}%
      \renewcommand\beforevspacesommairepart{2em}%
      \renewcommand{\nbpagesommairepart}{\titlerule*[0.75em]{.}\contentspage}%
      \renewcommand{\aftervspacesommairepart}{0em}
    }

    \newcommand{\alignsommairepart}{\centering}
    \newcommand{\beforevspacesommairepart}{3em}
    \newcommand{\aftervspacesommairepart}{0.66em}
    \newcommand{\nbpagesommairepart}{}
    \titlecontents{sommaire-part}
      [0em]
      {\addvspace{\beforevspacesommairepart}\alignsommairepart\bfseries\large}
      {\partname\hspace*{0.01em}
         \thecontentslabel\hspace*{0.35em}--\hspace*{0.35em}}
      {}
      {\nbpagesommairepart}
      [\addvspace{\aftervspacesommairepart}]

    \titlecontents{sommaire-subsubpart}
      [0em]
      {\addvspace{0.75em}\bfseries}
      {\subsubpartname\hspace*{0.01em}
         \thecontentslabel\hspace*{0.35em}--\hspace*{0.35em}}
      {}
      {}
      [\addvspace{2pt}]

    \titlecontents{part-subsubpart}
      [0em]
      {\addvspace{0em}\centering\bfseries}
      {\subsubpartname\hspace*{0.01em}
         \thecontentslabel\hspace*{0.35em}--\hspace*{0.35em}}
      {}
      {}
      [\addvspace{2pt}]

    \newcommand{\afterchapter}{}%
    \makeatletter
    \newcommand{\chapterminitoc}{%
      \startcontents[chapter]
      \begin{flushleft}\bfseries\large
      Sommaire
      \end{flushleft}
      \titlerule[1pt]
      \medskip
      \renewcommand*\l@subpart[2]{}%
      \printcontents[chapter]{}{2}{\setcounter{tocdepth}{1}}
      \medskip
      \titlerule[1pt]
      \bigskip
    }%
    \makeatother

    \newsavebox{\chaptertitlebox}

    \newlength{\supchaptertitlesep}
    \setlength{\supchaptertitlesep}{12pt}
    \newlength{\supchapterthemesep}
    \setlength{\supchapterthemesep}{3pt}
    \newcommand{\supchaptertitleprefix}{}%
    \newcommand{\supchaptertitlefont}{}%

    \titleformat{\chapter}[frame]
                {\normalfont}
                {\footnotesize\enspace\bfseries
                 \savebox{\chaptertitlebox}{\chaptername\space\thechapter}%
                 \vbox to \ht\chaptertitlebox{\vss\ifnum\value{subsubpart}=0 \else
    \hbox to \wd\chaptertitlebox{\hss\ifcat$\detokenize\expandafter{\thesubpartname}$\else\thesubpartname\fi\hss}%
    \vskip\supchapterthemesep
    \hbox to \wd\chaptertitlebox{\hss\supchaptertitlefont\supchaptertitleprefix\thesubsubpartname\hss}\vskip\supchaptertitlesep\fi\hbox{\usebox{\chaptertitlebox}}}\enspace}
                {6pt}
                {\LARGE\bfseries\filcenter}
                [\normalfont\afterchapter]
    \titlespacing*{\chapter}
                  {0pc}% espace à gauche
                  {*4}
                  {*2.3}
                  [0pc]% espace à droite
    %\titlecontents{chapter}%
    %  [1.5em]% retrait à gauche
    %  {}% matériel avant
    %commun aux entrées numérotées ou pas
    %  {\chaptername~\thecontentslabel~}% avant lorsqu'il y a un numéro
    %  {\hspace{-1.3em}}% avant lorsqu'il n'y a pas de numéro
    %  {\titlerule*[0.75em]{.}\contentspage}% points de suspension et no page
    \makeatletter
    \def\chaptermark#1{%
      \markboth {\MakeUppercase{%
        \ifnum \c@secnumdepth >\m@ne
          \if@mainmatter
            \@chapapp\space\thechapter. \ % changed "\ " to "\space" for "DS \no 1"
          \fi
        \fi
        #1}}{}}%

    \let\original@chapter\chapter
    \setcounter{savedsecnumdepth}{\value{secnumdepth}}%
    \renewcommand{\chapter}{\@ifstar{\chapter@star}{\chapter@nostar}}
    \newcommand{\chapter@star}[1]{%
       \setcounter{savedsecnumdepth}{\value{secnumdepth}}%
       \setcounter{secnumdepth}{0}%
       \original@chapter*{#1}%
       \addcontentsline{toc}{chapter}{#1}%
    }
    \newcommand{\tocchapternamesep}{--}
    \newcommand{\chapter@nostar}[2][]{%
       \setcounter{secnumdepth}{\value{savedsecnumdepth}}%
       \begingroup
       \let\original@addcontentsline\addcontentsline
       \renewcommand{\addcontentsline}[3]{\original@addcontentsline{##1}{##2}{\expandafter\expandafter\expandafter\chaptername\expandafter\space\expandafter##3}}%
       
       \renewcommand{\numberline}[1]{\hbox{##1~\tocchapternamesep~\hfil}}%
       \def\ttl@idot{~\tocchapternamesep~}%
       \ifcat$\detokenize{#1}$%
         \original@chapter{#2}%
       \else
         \original@chapter[#1]{#2}%
       \fi
       \endgroup\@afterheading
    }
    \makeatother

    \newcounter{STSN}[chapter]
    \makeatletter\@addtoreset{section}{STSN}\makeatother
    \newcommand{\STSN}[1]{%
      \ifnum\value{STSN}=0 \else\clearpage\fi
      \refstepcounter{STSN}%
      \addcontentsline{toc}{section}{\noexpand\bfseries#1}
      \addvspace{0.5cm}%
      \begin{center}\bfseries\LARGE---~#1~---\end{center}%
      \addvspace{0.5cm}%
    }

    \makeatletter
    \let\original@textbullet\textbullet
    \DeclareRobustCommand{\textbullet}{\ensuremath{\vcenter{\hbox{\scalebox{0.65}{\original@textbullet}}}}}
    \makeatother

    \renewcommand{\tocchapternamesep}{\textbullet}

    % pour la gestion de minitoc dans \subpart seulement si \cours est actif
    \newcommand{\currentpart}{}%
    \newcommand{\partcours}{cours}%

    \newcommand{\cours}{%
      \renewcommand{\currentpart}{cours}%
      \renewcommand{\chaptername}{Chapitre}%
      \renewcommand{\thechapter}{\arabic{chapter}}%
      \renewcommand{\subsubpartname}{Th\`eme}%
      \renewcommand{\supchaptertitleprefix}{\subsubpartname~\thesubsubpart~:~}%
      \renewcommand{\afterchapter}{\chapterminitoc}%
      \renewcommand{\afterpart}{\stopcontents[part]}%
    }
    \newcommand{\annexes}{%
      \renewcommand{\currentpart}{annexes}%
      \renewcommand{\chaptername}{Annexe}%
      \renewcommand{\thechapter}{\Alph{chapter}}%
      \renewcommand{\subsubpartname}{Th\`eme}%
      \renewcommand{\supchaptertitleprefix}{}%
      \renewcommand{\afterchapter}{\chapterminitoc}%
      \renewcommand{\afterpart}{\partminitoc}%
    }
    % pour tous les autres, \afterchapter est vide pour ne pas faire apparaître de mini table des matières
    \newcommand{\devoirssurveilles}{%
      \renewcommand{\currentpart}{devoirssurveilles}%
      \renewcommand{\chaptername}{DS \no}%
      \renewcommand{\thechapter}{\arabic{chapter}}%
      \renewcommand{\subsubpartname}{Ann\'ee scolaire}%
      \renewcommand{\supchaptertitleprefix}{}%
      \renewcommand{\afterchapter}{}%
      \renewcommand{\afterpart}{\partminitoc}%
    }
    \newcommand{\devoirslibres}{%
      \renewcommand{\currentpart}{devoirslibres}%
      \renewcommand{\chaptername}{DL \no}%
      \renewcommand{\thechapter}{\arabic{chapter}}%
      \renewcommand{\subsubpartname}{Ann\'ee scolaire}%
      \renewcommand{\supchaptertitleprefix}{}%
      \renewcommand{\afterchapter}{}%
      \renewcommand{\afterpart}{\partminitoc}%
    }
    \newcommand{\travauxpratiques}{%
      \renewcommand{\currentpart}{travauxpratiques}%
      \renewcommand{\chaptername}{TP \no}%
      \renewcommand{\thechapter}{\arabic{chapter}}%
      \renewcommand{\subsubpartname}{Th\`eme}%
      \renewcommand{\supchaptertitleprefix}{}%
      \renewcommand{\afterchapter}{}%
      \renewcommand{\afterpart}{\partminitoc}%
    }
    \newcommand{\exercices}{%
      \renewcommand{\currentpart}{exercices}%
      \renewcommand{\chaptername}{Feuille d'exercices \no}%
      \renewcommand{\thechapter}{\arabic{chapter}}%
      \renewcommand{\subsubpartname}{Th\`eme}%
      \renewcommand{\supchaptertitleprefix}{}%
      \renewcommand{\afterchapter}{}%
      \renewcommand{\afterpart}{\partminitoc}%
    }
    \newcommand{\colles}{%
      \renewcommand{\currentpart}{colles}%
      \renewcommand{\chaptername}{Colle \no}%
      \renewcommand{\thechapter}{\arabic{chapter}}%
      \renewcommand{\subsubpartname}{Ann\'ee scolaire}%
      \renewcommand{\supchaptertitleprefix}{}%
      \renewcommand{\afterchapter}{}%
      \renewcommand{\afterpart}{\stopcontents[part]}%
    }

    \newcommand{\dummychapter}{
    \chapter{Titre du chapitre} %\chaptermark{title}

    \lipsum[1]

    \section{Titre de la section}

    \lipsum[2]

    \subsection{Titre de la sous-section}

    \lipsum[3]

    \subsubsection{Titre de la sous-sous-section}

    \lipsum[4]

    \paragraph{Titre du paragraphe}

    \lipsum[5]

    \paragraph{Titre du paragraphe}

    \lipsum[6]

    \subsubsection{Titre de la sous-sous-section}

    \lipsum[7]

    \subsection{Titre de la sous-section}

    \lipsum[8]

    \section{Titre de la section}

    \lipsum[9]
    }

    \begin{document}

    \startcontents[tableofcontents]

    \makeatletter
    \original@chapter*{Sommaire}
    \makeatother
    \addcontentsline{toc}{part}{Sommaire}
    \addtocontents{ptc}{\redefinetableofcontentspart}
    \startcontents[part]
    \startcontents[sommaire]

    \begingroup\makeatletter
    \renewcommand*\l@chapter{\@dottedtocline{0}{0em}{1.5em}}
    \printcontents[sommaire]{sommaire-}{-1}{\setcounter{tocdepth}{0}}
    \endgroup

    \cours
    \part{Cours}

    \subpart{Physique}

    \dummychapter

    \subsubpart{Physique quantique}

    Bla bla de pr\'esentation sur la physique quantique.\index{Physique!Quantique}

    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter

    \subsubpart{M\'ecanique des fluides}

    Bla bla de pr\'esentation sur la m\'ecanique des fluides.\index{Physique!M\'ecanique des fluides}

    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter

    \subpart{Chimie}

    \subsubpart{Chimie organique}

    Bla bla de pr\'esentation sur la chimie organique.\index{Chimie!Organique}

    \dummychapter
    \dummychapter
    \dummychapter

    \subsubpart{Chimie min\'erale}

    Bla bla de pr\'esentation sur la chimie min\'erale.\index{Chimie!Min\'erale}

    \dummychapter
    \dummychapter
    \dummychapter
    \dummychapter

    \annexes
    \part{Annexes}

    \subpart{Physique}

    \dummychapter

    \subpart{Chimie}

    \dummychapter

    \devoirssurveilles
    \part{Devoirs surveill\'es}

    \subsubpart*{2009-2010}

    \chapter{CPP 1999}

    \STSN{\'Enonc\'e}

    \section{Partie I}

    \subsection{Question A}

    \subsection{Question B}

    \section{Partie II}

    \subsection{Question A}

    \subsection{Question B}

    \STSN{Corrig\'e}

    \section{Partie I}

    \subsection{Question A}

    \subsection{Question B}

    \section{Partie II}

    \subsection{Question A}

    \subsection{Question B}

    \STSN{Remarques}

    \chapter{E3A 2003}

    \section{Partie I}

    \subsection{Question A}

    \subsection{Question B}

    \section{Partie II}

    \subsection{Question A}

    \subsection{Question B}

    \subsubpart*{2010-2011}

    \chapter{CPP 2002}

    \section{Partie I}

    \subsection{Question A}

    \subsection{Question B}

    \section{Partie II}

    \subsection{Question A}

    \subsection{Question B}

    \chapter{Centrale 2008}

    \section{Partie I}

    \subsection{Question A}

    \subsection{Question B}

    \section{Partie II}

    \subsection{Question A}

    \subsection{Question B}

    \devoirslibres
    \part{Devoirs libres}

    \chapter*{Introduction}

    \section{Historique}

    \lipsum[1-10]

    \section{Angle d'\'etude}

    \lipsum[11-20]

    \dummychapter

    \dummychapter

    \travauxpratiques
    \part{Travaux pratiques}

    \subpart{Physique}

    \dummychapter

    \dummychapter

    \subpart{Chimie}

    \dummychapter

    \dummychapter

    \exercices
    \part{Exercices}

    \dummychapter

    \dummychapter

    \addtocontents{ptc}{\redefinesommairepart}
    \addtocontents{ptc}{\restoretableofcontentspart}

    \makeatletter
    \let\chapter\original@chapter
    \makeatother

    \cleardoublepage\phantomsection\addcontentsline{toc}{part}{\bibname}
    \begin{thebibliography}{10}
        \bibitem{1} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{2} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{3} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{4} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{5} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{6} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{7} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{8} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{9} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
        \bibitem{10} \textsc{Nom} (Prenom), \emph{Titre}, date, editeur.
    \end{thebibliography}

    \cleardoublepage\phantomsection\addcontentsline{toc}{part}{\indexname}
    \printindex

    \stopcontents[tableofcontents]

    \backmatter
    \cleardoublepage\phantomsection\addcontentsline{toc}{part}{\contentsname}
    \chapter*{\contentsname}
    \renewcommand{\formatlsubpart}[1]{\centering\Large\bfseries#1}
    \printcontents[tableofcontents]{}{-1}{\setcounter{tocdepth}{3}}

    \end{document}
