Revenons à nos entiers signés écrits sur $8$ bits en reprenant le calcul de $84 - 101 = -17$ tout en nous inspirant de ce qui a été vu dans la section précédente avec la base $10$.
Ici $256 = 2^8$ joue le même rôle que $1000 = 10^3$ avant. Nous avons ajouté des cases grises pour le bit du calcul intermédiaire, et nous avons indiqué les complémentations
\footnote{
	Nous utiliserons \emph{\og complémentation \fg} comme abréviation de \emph{\og complément à $2$ plus un \fg}. 
}
en mettant sur fond vert les bits les plus à gauche..

\medskip

\begin{center}
\begin{tabular}{ll}
	    & \!\!\binary{Za1010100}  	\\
	$-$ & \!\!\binary{Za1100101} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	    & \!\!\binary{Za1010100} 	\\
	$+$ & \!\!\binary{*a0011011} 	\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{Uz1101111} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	$-$ & \!\!\binary{ca0010001} 	\\
\end{tabular}
\end{center}

\medskip

La dernière complémentation avec ajout d'un signe vient du $0$ sur fond gris et du fait qu'une seule complémentation préparatoire a été faite avant.
Tout s'éclaire !


\smallskip

Reprenons de même le cas de $84 - 61 = 23$ où l'on avait une retenue à ignorer. On fait comme précédemment.

\medskip

\begin{center}
\begin{tabular}{ll}
	    & \!\!\binary{Za1010100}  	\\
	$-$ & \!\!\binary{Za0111101} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	    & \!\!\binary{Za1010100} 	\\
	$+$ & \!\!\binary{*a1000011} 	\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{Uu0010111} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	$+$ & \!\!\binary{Za0010111} 	\\
\end{tabular}
\end{center}

\medskip

Avec le nouvel éclairage, nous n'avons qu'à garder les bits sur fond blanc, le signe du résultat étant positif
\footnote{
	Il y a eu une seule complémentation préparatoire et le bit intermédiaire est $1$.
}.


\smallskip


Dans les deux cas précédents, au lieu de considérer un bit intermédiaire, il suffit d'effectuer directement le calcul de retenue sur le bit de gauche modulo $2$, ce calcul traduisant celui sur le nombre de complémentations préparatoires et du chiffre intermédiaire en gris dans nos deux exemples ci-dessus. On peut ainsi faire plus directement comme suit.
\begin{multicols}{2}
\begin{center}
\begin{tabular}{ll}
	    & \!\!\binary{Z1010100}  	\\
	$-$ & \!\!\binary{Z1100101} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	    & \!\!\binary{Z1010100} 	\\
	$+$ & \!\!\binary{*0011011} 	\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{U1101111} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	$-$ & \!\!\binary{c0010001} 	\\
\end{tabular}
\end{center}

\null\vfill

\columnbreak

\begin{center}
\begin{tabular}{ll}
	    & \!\!\binary{Z1010100}  	\\
	$-$ & \!\!\binary{Z0111101} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	    & \!\!\binary{Z1010100} 	\\
	$+$ & \!\!\binary{*1000011} 	\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{Z0010111} 	\\[.8ex]
	\hline
	\hline 							\\[-2ex]
	$+$ & \!\!\binary{Z0010111} 	\\
\end{tabular}
\end{center}
\end{multicols}






\smallskip

Plus généralement, avec la façon de stocker les entiers signés, nous avons alors les correspondances suivantes où les entiers additionnés $a$ et $b$ sont dans $\intervalC{-128}{127}$ et leur somme aussi, ce qui revient à ne considérer que les cas de non dépassement de capacité.
\begin{multicols}{4}
    \begin{center}
	\begin{tabular}{ll}
	    & \!\!\binary{Z-}  		\\
	$-$ & \!\!\binary{Z-} 		\\[.8ex]
	\hline
	\hline 						\\[-2ex]
	    & \!\!\binary{Z-} 		\\
	$+$ & \!\!\binary{*-} 		\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{Z-} 	    \\
	\end{tabular}
	
	\medskip\itshape\footnotesize
	
	Soustraction 1
	
	de deux naturels
	\end{center}


	\null\vfill
	\columnbreak
	
	
	\begin{center}
	\begin{tabular}{ll}
	    & \!\!\binary{Z-}  		\\
	$-$ & \!\!\binary{Z-} 		\\[.8ex]
	\hline
	\hline 						\\[-2ex]
	    & \!\!\binary{Z-} 		\\
	$+$ & \!\!\binary{*-} 		\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{U-} 	\\
	\end{tabular}
	
	\medskip\itshape\footnotesize
	
	Soustraction 2
	
	de deux naturels
	\end{center}


	\null\vfill
	\columnbreak
	
	
	\begin{center}
	\begin{tabular}{ll}
	$-$ & \!\!\binary{Z-}  		\\
	$-$ & \!\!\binary{Z-} 		\\[.8ex]
	\hline
	\hline 						\\[-2ex]
	    & \!\!\binary{*-} 		\\
	$+$ & \!\!\binary{*-} 		\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{Z-} 	\\
	\end{tabular}
	
	\medskip\itshape\footnotesize
	
	Addition 1 de
	
	deux relatifs négatifs
	\end{center}


	\null\vfill
	\columnbreak
	
	
	\begin{center}
	\begin{tabular}{ll}
	$-$ & \!\!\binary{Z-}  		\\
	$-$ & \!\!\binary{Z-} 		\\[.8ex]
	\hline
	\hline 						\\[-2ex]
	    & \!\!\binary{*-} 		\\
	$+$ & \!\!\binary{*-} 		\\[.8ex]
	\hline \\[-2ex]
	$=$ & \!\!\binary{U-} 	\\
	\end{tabular}
	
	\medskip\itshape\footnotesize
	
	Addition 2 de
	
	deux relatifs négatifs
	\end{center}


	\null\vfill
\end{multicols}

\vspace{-1.5em}

Les soustractions et l'addition 2 ne posent aucun souci.
Par contre l'addition 1 est problématique avec son résultat positif. 
En fait cette addition contredit notre hypothèse de non dépassement de capacité. Nous allons voir pourquoi.

\medskip

Le cas de l'addition 1 correspond à $(a ; b) \in \intervalC{-128}{-1}^2$ tel que $(128 + a) + (128 + b) \in \intervalC{0}{127}$ soit $0 \leq 256 + a + b \leq 127$ \emph{i.e.} $-256 \leq a + b \leq -129$ ce qui correspond à un dépassement de capacité comme annoncé.
 
\medskip

Ceci achève de démontrer la validité des procédés d'addition et de soustraction d'entiers signés dans les cas de non dépassement de capacité.
Notez que le cas évident d'une addition de deux naturels a été omis, et aussi que $-a + b = b - a = b + (-a)$ et le fait qu'un changement de signe n'est autre qu'un complément à $1$ plus $1$ permettent de compléter les cas non indiqués ci-dessus.

\begin{exercise}
	Étudiez plus généralement le cas d'une base $b \in \NN_{\geq 3}$ quelconque.
\end{exercise}

